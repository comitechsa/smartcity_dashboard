(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{112:function(e,t,n){},119:function(e,t,n){},137:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},160:function(e,t,n){e.exports={centerMapBtn:"SmartisCityMap_centerMapBtn__25OeM"}},161:function(e,t,n){"use strict";n.r(t);var r,s=n(0),a=n.n(s),i=n(12),o=n.n(i),c=(n(112),n(41)),l=n(8),u=n(11),p=n.n(u),m=n(20),d=n(14),f=n(51),y=n.n(f),j=n(1),b=function(){var e=Object(d.f)();return Object(j.jsxs)("div",{className:[y.a.header,y.a.flexContainer].join(" "),children:[Object(j.jsx)("div",{className:y.a.app_logo,children:Object(j.jsx)("img",{src:"https://drama.smartiscity.gr/gallery/smartiscity__drama_logo.png",alt:"smartiscity logo",width:"100%",onClick:function(){"/"!==e.location.pathname&&e.push("/")}})}),Object(j.jsx)("div",{className:y.a.epsa_logo,children:Object(j.jsx)("img",{src:"https://drama.smartiscity.gr/gallery/espa_drama.png",alt:"interreg logo",className:y.a.epsa_logo_normal})})]})},h=n(86),g=n.n(h),_=n(87),x=n.n(_),O=function(e){return Object(j.jsxs)("div",{className:x.a.welcome_placeholder,children:[Object(j.jsxs)("p",{children:["\u039f \u0394\u03ae\u03bc\u03bf\u03c2 ",e.municipality," \u03c3\u03b1\u03c2 \u03ba\u03b1\u03bb\u03c9\u03c3\u03bf\u03c1\u03af\u03b6\u03b5\u03b9 \u03c3\u03c4\u03b7\u03bd \u03a0\u03bb\u03b1\u03c4\u03c6\u03cc\u03c1\u03bc\u03b1 \u0395\u03be\u03c5\u03c0\u03bd\u03b7\u03c2 \u03a0\u03cc\u03bb\u03b7\u03c2."]}),Object(j.jsx)("p",{children:" \u0395\u03bd\u03b7\u03bc\u03b5\u03c1\u03c9\u03b8\u03b5\u03af\u03c4\u03b5 \u03b3\u03b9\u03b1 \u03c4\u03b9\u03c2 \u03c3\u03c5\u03bd\u03b8\u03ae\u03ba\u03b5\u03c2 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03ba\u03c1\u03b1\u03c4\u03bf\u03cd\u03bd \u03c3\u03c4\u03b7\u03bd \u03c0\u03cc\u03bb\u03b7 \u03bc\u03b1\u03c2."})]})},v=n(5),T=n(18),w=n.n(T),A=n(88),S=n.n(A),N=n(89),C={},k=[],I={},E=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.useState)(C)[1],n=function(e,t){var n=I[e](C,t);console.log(n),C=Object(l.a)(Object(l.a)({},C),n);var r,s=Object(N.a)(k);try{for(s.s();!(r=s.n()).done;){(0,r.value)(C)}}catch(a){s.e(a)}finally{s.f()}};return Object(s.useEffect)((function(){return e&&k.push(t),function(){e&&(k=k.filter((function(e){return e!==t})))}}),[t,e]),[C,n]},R=function(e,t){t&&(C=Object(l.a)(Object(l.a)({},C),t)),I=Object(l.a)(Object(l.a)({},I),e)},F=function(e){var t=Object(s.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1],i=E()[0];return Object(s.useEffect)((function(){if(i.types.length>0&&e.typeId){var t=i.types.findIndex((function(t){return t.id===e.typeId}));-1!==t&&a({backgroundColor:i.types[t].color})}}),[i.types,e.typeId]),Object(j.jsx)("div",{className:[S.a.box,e.className].join(" "),style:r||null,children:e.children})},D=n(16),P=(n(119),n(43)),B=n.n(P),L=n(36),V=n(90),M=n.n(V),Q=function(e){return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)("p",{id:"tooltip",className:[M.a.tooltip,e.className].join(" "),children:e.tooltipContent})})},U=function(e){var t=E(!1)[1];return Object(j.jsxs)("div",{className:[B.a.flexContainer,e.className].join(" "),children:[e.icon&&Object(j.jsx)("i",{className:e.icon,style:e.styleIcon?Object(l.a)({color:"white",fontSize:"30px"},e.styleIcon):{color:"white",fontSize:"30px"}}),!e.icon&&Object(j.jsx)("div",{style:{minWidth:"32px"}}),Object(j.jsxs)("div",{className:B.a.title,children:[e.link&&Object(j.jsx)(L.b,{onClick:function(){return e.id&&t("CLICKED_TYPE",e.id)},to:e.link,children:e.title}),!e.link&&e.title,e.infoContext&&Object(j.jsxs)("span",{className:B.a.triggerTooltip,children:[Object(j.jsx)("i",{className:"fa fa-info-circle",style:{color:"white",margin:"2px 5px 0",position:"absolute"}}),Object(j.jsx)(Q,{tooltipContent:e.infoContext})]})]}),Object(j.jsxs)("div",{className:[B.a.lastElementPlaceholder,B.a.triggerTooltip].join(" "),children:[e.element,Object(j.jsx)(Q,{tooltipContent:"\u03a3\u03cd\u03c1\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03b5\u03b4\u03ce",className:B.a.dragAndDropTooltip})]})]})},W=n(91),z=n.n(W),H=function(e){return Object(j.jsx)("div",{className:[z.a.subTitle_placeholder,e.className].join(" "),style:e.style,children:Object(j.jsx)("p",{children:e.children})})},Z=n(52),G=n.n(Z),K=function(e){return Object(j.jsxs)("div",{className:[G.a.entity,G.a.gridContainer,e.className].join(" "),children:[Object(j.jsx)("div",{className:G.a.icon,children:e.icon&&Object(j.jsx)("img",{src:e.icon,alt:"icon",width:"32px"})}),Object(j.jsx)("div",{className:G.a.content,children:e.content}),Object(j.jsx)("div",{className:G.a.value,style:e.styleValue,children:e.value})]})},q=n(92),Y=n.n(q),X=(n(135),n(136),n(93)),J=n.n(X),$=(n(137),{infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),ee=function(e){var t="settings"in e?Object(l.a)(Object(l.a)({},$),e.settings):$;return Object(j.jsx)(Y.a,Object(l.a)(Object(l.a)({className:J.a.slider},t),{},{children:e.children}))},te=n(94),ne=n(95),re=n.n(ne),se=n(96),ae=n.n(se),ie=n(63),oe=Object(ie.css)(r||(r=Object(te.a)(["\n  position: absolute;\n  top: calc(50% - 25px);\n  left: calc(50% - 25px);\n"]))),ce=function(){return Object(j.jsx)(re.a,{color:"white",loading:!0,size:60,css:oe})},le=function(){return Object(j.jsx)(ae.a,{color:"white",loading:!0,size:50,css:oe})},ue=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},pe=function(e,t){var n=[];if(1===e)n.push(t);else for(var r=0;r<e;r++)n.push("".concat(t," ").concat(r+1," / ").concat(e));return n},me=function(e){var t=Object(s.useState)({devideData:[],devideLabels:[]}),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null),o=Object(s.useRef)(null),c=E()[0],l=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(c.sensors.length>0){for(var t=0;t<c.types.length;t++)if("2"===c.types[t].id){i.current=c.types[t].icon,o.current=c.types[t].tooltip;break}var n=c.sensors.filter((function(e){return"2"===e.typeId})),r=[],s=[];if(n.length>e.previewIndex&&0!==n[e.previewIndex].metrics.length){var u=ue(n[e.previewIndex].metrics,e.maxEntities),p=pe(u.length,n[e.previewIndex].title);r.push.apply(r,Object(D.a)(u)),s.push.apply(s,Object(D.a)(p))}else if(void 0!==n&&e.previewGroup){var m=n.filter((function(t){return t.group===e.previewGroup}));if(void 0===m||void 0===m[0])return;l.current=m[0].groupName;for(var d=0;d<m.length&&0!==m[d].metrics.length;d++){var f=ue(m[d].metrics,e.maxEntities),y=pe(f.length,m[d].title);r.push.apply(r,Object(D.a)(f)),s.push.apply(s,Object(D.a)(y))}}else if(void 0!==n&&!e.previewIndex)for(var j=0;j<n.length&&0!==n[j].metrics.length;j++){var b=ue(n[j].metrics,e.maxEntities),h=pe(b.length,n[j].title);r.push.apply(r,Object(D.a)(b)),s.push.apply(s,Object(D.a)(h))}a({devideData:r,devideLabels:s})}}),[c.sensors]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(U,{icon:i.current,title:"\u03a3\u03a5\u039d\u0391\u0398\u03a1\u039f\u0399\u03a3\u0397 \u039a\u039f\u0399\u039d\u039f\u03a5",link:"/map",id:"2",infoContext:o.current,element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}})}),l.current&&Object(j.jsx)("p",{style:{textAlign:"center",margin:"10px 0 5px"},children:Object(j.jsx)("strong",{children:l.current})}),r.devideData.length>0&&Object(j.jsx)(ee,{children:r.devideData.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)(H,{children:[!l.current&&Object(j.jsx)("strong",{children:r.devideLabels[t]}),l.current&&Object(j.jsx)("span",{children:r.devideLabels[t]})]}),e.map((function(e,t){return Object(j.jsx)(K,{icon:e.icon_large,content:e.content,value:e.value},t)}))]},t)}))}),0===r.devideData.length&&Object(j.jsx)(ce,{})]})},de=(n(142),function(e){var t=[];return t=e.length>0?e.filter((function(e){return e.icon_large&&1===e.valid})):e,console.log(t),t}),fe=function(e){var t=Object(s.useState)({devideData:[],devideLabels:[]}),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null),o=Object(s.useRef)(null),c=Object(s.useRef)(null),l=E()[0];return Object(s.useEffect)((function(){if(l.sensors.length>0){for(var t=0;t<l.types.length;t++)if(l.types[t].id===e.typeId){i.current=l.types[t].icon,c.current=l.types[t].tooltip;break}var n=l.sensors.filter((function(t){return t.typeId===e.typeId})),r=[],s=[];if(void 0!==n&&n.length>e.previewIndex&&0!==n[e.previewIndex].metrics.length){var u=de(n[e.previewIndex].metrics);o.current=n[e.previewIndex].boxTitle;var p=ue(u,e.showSubTitle?e.maxEntities:e.maxEntities+1),m=pe(p.length,u.title);r.push.apply(r,Object(D.a)(p)),s.push.apply(s,Object(D.a)(m))}else if(void 0!==n&&!e.previewIndex)for(var d=0;d<n.length&&0!==n[d].metrics.length;d++){var f=de(n[d].metrics),y=ue(f,e.showSubTitle?e.maxEntities:e.maxEntities+1),j=pe(y.length,n[d].title);r.push.apply(r,Object(D.a)(y)),s.push.apply(s,Object(D.a)(j))}a({devideData:r,devideLabels:s})}}),[l.sensors]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(U,{icon:i.current,title:e.title,link:"/map",infoContext:c.current,element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),Object(j.jsx)("p",{style:{fontSize:"14px",textAlign:"center",paddingTop:"5px"},children:Object(j.jsx)("strong",{children:o.current})}),r.devideData.length>0&&Object(j.jsx)(ee,{children:r.devideData.map((function(t,n){return Object(j.jsxs)("div",{children:[e.showSubTitle&&Object(j.jsx)(H,{children:r.devideLabels[n]}),t.map((function(e,t){return Object(j.jsx)(K,{icon:e.icon_large,content:e.content,value:e.value},t)}))]},n)}))}),0===r.devideData.length&&Object(j.jsx)(ce,{})]})},ye=n(100),je=(n(143),function(e){return Object(j.jsxs)(s.Fragment,{children:[e.data&&Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(U,{icon:"im im-icon-Envelope-2",title:e.data.index_name,link:"/map",infoContext:e.data&&e.data.tooltip,element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),Object(j.jsx)(H,{children:Object(j.jsxs)("strong",{children:[e.data.details[0].measurement&&Object(j.jsxs)("span",{children:["\u03a4\u03b9\u03bc\u03ae \u03b4\u03b5\u03af\u03ba\u03c4\u03b7: ",parseFloat(e.data.details[0].measurement),"\xa0|\xa0"]}),e.data.details[0].index_title]})}),Object(j.jsx)("p",{style:{fontSize:"14px",lineHeight:"1.5em"},children:e.data.details[0].index_description})]}),!e.data&&Object(j.jsx)(ce,{})]})}),be=n(27),he=n.n(be),ge=function(){var e=(new AbortController).signal,t=Object(s.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){(function(){var t=Object(m.a)(p.a.mark((function t(){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=forecast",{signal:e}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(n=t.sent)&&n.ok){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.json();case 7:r=t.sent,a(r[0]),console.log(r[0]);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(U,{className:he.a.weatherTitle,title:"\u039a\u0391\u0399\u03a1\u039f\u03a3",infoContext:r&&r.tooltip,element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",color:"black",cursor:"pointer"}})}),r&&Object(j.jsxs)("div",{className:he.a.weatherGridContainer,children:[Object(j.jsxs)("div",{className:he.a.squareBox,children:[Object(j.jsx)("img",{src:"https://drama.smartiscity.gr/"+r.curr_icon,alt:"weather_icon_totday",width:"75px"}),Object(j.jsx)("p",{className:he.a.descriptionContent,children:r.curr_description})]}),Object(j.jsxs)("div",{className:he.a.squareBox,children:[Object(j.jsxs)("p",{className:he.a.tempBox,children:[r.curr_val," ",Object(j.jsx)("sup",{children:"o"}),"C"]}),Object(j.jsx)("p",{className:he.a.descriptionContent,children:r.curr_title})]}),Object(j.jsxs)("div",{className:he.a.squareBox,children:[Object(j.jsx)("img",{src:"https://drama.smartiscity.gr/"+r.next_icon,alt:"weather_icon_tommorw",width:"75px"}),Object(j.jsx)("p",{className:he.a.descriptionContent,children:r.next_description})]}),Object(j.jsxs)("div",{className:he.a.squareBox,children:[Object(j.jsxs)("p",{className:he.a.tempBox,children:[r.next_val," ",Object(j.jsx)("sup",{children:"o"}),"C"]}),Object(j.jsx)("p",{className:he.a.descriptionContent,children:r.next_title})]})]}),!r&&Object(j.jsx)(ce,{})]})},_e=n(34),xe=n(58),Oe=n.n(xe),ve=[{elementType:"geometry",stylers:[{color:"#cb6de9"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Te=[{elementType:"geometry",stylers:[{color:"#ff8700"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],we=[{elementType:"geometry",stylers:[{color:"#065dfb"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Ae=[{elementType:"geometry",stylers:[{color:"#179d00"}]},{elementType:"geometry.fill",stylers:[{color:"#179D00"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Se=[{elementType:"geometry.fill",stylers:[{color:"#ff006e"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#ff006e"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Ne=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#161a20"},{weight:2.5}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#a1a1a1"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#161a20"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#686868"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#161a20"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#161a20"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#bfbfbf"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#2f343c"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],Ce=n.p+"static/media/purple_mark_icon.52908a98.svg",ke={lat:39.7522521,lng:20.6501971},Ie=function(e){var t=Object(_e.d)({googleMapsApiKey:"AIzaSyDQlCnn8F1D0S9ymnWZwc_WFx2ZS6g8w1Q"}).isLoaded,n=Object(s.useState)(null),r=Object(v.a)(n,2),a=(r[0],r[1]),i=Object(s.useState)([]),o=Object(v.a)(i,2),c=o[0],l=o[1],u=Object(s.useState)(null),p=Object(v.a)(u,2),m=p[0],d=p[1],f=E()[0],y=Object(s.useRef)(null),b=Object(s.useRef)(null),h=Object(s.useRef)(ke);Object(s.useEffect)((function(){if(f.types.length>0)for(var t=0;t<f.types.length;t++)if(f.types[t].id===e.typeId){y.current=f.types[t];break}}),[f.types]),Object(s.useEffect)((function(){if(f.types.length>0){for(var t=f.sensors.filter((function(t){return t.typeId===e.typeId})),n=0;n<t.length;n++)if(t[n].position){h.current=t[n].position;break}l(t)}}),[f.types,f.sensors]),Object(s.useEffect)((function(){"7"===e.typeId?b.current=ve:"8"===e.typeId?b.current=Te:"4"===e.typeId?b.current=Se:"9"===e.typeId?b.current=Ae:"10"===e.typeId?b.current=we:b.current=ve}),[]);var g=Object(s.useCallback)((function(e){a(e)}),[]),_=Object(s.useCallback)((function(e){a(e)}),[]);return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(U,{className:Oe.a.map_title_style,icon:y.current&&y.current.icon,title:e.title,infoContext:y.current&&y.current.tooltip,link:"/map",element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),t&&Object(j.jsx)("div",{className:Oe.a.wrapper,children:Object(j.jsxs)(_e.a,{center:h.current,zoom:12,onLoad:g,onUnmount:_,options:{styles:b.current,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1},children:[Object(j.jsx)(s.Fragment,{children:c.map((function(e){return Object(j.jsx)(_e.c,{position:e.position,animation:4,clickable:!0,icon:e.smallMarker?e.smallMarker:Ce,onClick:function(){d(e.id)},children:m&&e.id===m&&Object(j.jsx)(_e.b,{children:Object(j.jsx)("p",{children:e.title})})},e.id)}))}),Object(j.jsx)(j.Fragment,{})]})}),!t&&Object(j.jsx)(le,{})]})},Ee=(n(74),n.p,n.p,n.p,n.p,n.p,n.p,function(){return Object(j.jsx)(s.Fragment,{children:Object(j.jsx)(U,{className:Oe.a.map_title_style,icon:"im im-icon-Eye-Visible",title:"\u0395\u03a0\u039f\u03a0\u03a4\u0395\u0399\u0391",infoContext:"\u03a3\u03c5\u03b3\u03ba\u03b5\u03bd\u03c4\u03c1\u03c9\u03c4\u03b9\u03ba\u03ae \u03b1\u03c0\u03b5\u03b9\u03ba\u03cc\u03bd\u03b9\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03c3\u03c5\u03bd\u03cc\u03bb\u03bf\u03c5 \u03c4\u03c9\u03bd \u03c5\u03c0\u03bf\u03c3\u03c5\u03c3\u03c4\u03b7\u03bc\u03ac\u03c4\u03c9\u03bd \u03c0\u03bf\u03c5 \u03b4\u03b9\u03b1\u03b8\u03ad\u03c4\u03b5\u03b9 \u03bf \u0394\u03ae\u03bc\u03bf\u03c2.",link:"/frame?id=6",element:Object(j.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",color:"black",cursor:"pointer"}})})})}),Re={dragSortHeuristics:{sortInterval:0},layoutDuration:400,dragRelease:{duration:400,easing:"ease-out"},dragEnabled:!0,dragStartPredicate:function(e,t){return!!t.target.matches("#draggable")},dragContainer:document.body,dragPlaceholder:{enabled:!0,createElement:function(e){return e.getElement().cloneNode(!0)}}};var Fe=function(){var e=Object(s.useState)([]),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)({search:"",value:"\u039f\u039b\u0391"}),i=Object(v.a)(a,2),o=i[0],c=(i[1],(new AbortController).signal);Object(s.useEffect)((function(){(function(){var e=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=indexes",{signal:c}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json();case 7:n=e.sent,r(n),console.log(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u,d,f=(u=o.value,d=o.search,Object(s.useCallback)((function(e){var t=!d||e.title.toLowerCase().indexOf(d)>-1,n="\u039f\u039b\u0391"===u||e.title===u;return t&&n}),[u,d]));return Object(j.jsx)("div",{className:w.a.box_placeholder,children:Object(j.jsxs)(ye.a,Object(l.a)(Object(l.a)({},Re),{},{propsToData:function(e){return{color:e.color,title:e.title}},filter:f,children:[Object(j.jsx)(F,{className:w.a.large,typeId:"1",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(j.jsx)(fe,{maxEntities:9,typeId:"1",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391 \u0394\u0395\u0394\u039f\u039c\u0395\u039d\u0391",showSubTitle:!0})}),Object(j.jsx)(F,{className:w.a.large,typeId:"5",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(j.jsx)(fe,{maxEntities:9,typeId:"5",title:"\u039c\u0395\u03a4\u0395\u03a9\u03a1\u039f\u039b\u039f\u0393\u0399\u039a\u0391 \u0394\u0395\u0394\u039f\u039c\u0395\u039d\u0391",showSubTitle:!1})}),Object(j.jsx)(F,{className:w.a.large,typeId:"6",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(j.jsx)(fe,{maxEntities:9,typeId:"6",title:"\u03a0\u039f\u0399\u039f\u03a4\u0397\u03a4\u0391 \u03a5\u0394\u0391\u03a4\u03a9\u039d",showSubTitle:!0})}),Object(j.jsx)(F,{className:w.a.map_box,typeId:"4",children:Object(j.jsx)(Ie,{typeId:"4",title:"WIFI HOTSPOTS"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"2",children:Object(j.jsx)(me,{maxEntities:2,previewGroup:"1"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"2",children:Object(j.jsx)(me,{maxEntities:2,previewGroup:"2"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"2",children:Object(j.jsx)(me,{maxEntities:2,previewGroup:"3"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"5",children:Object(j.jsx)(je,{data:n[0],typeId:"5"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"5",children:Object(j.jsx)(je,{data:n[1],typeId:"5"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"1",children:Object(j.jsx)(je,{data:n[3],typeId:"1"})}),Object(j.jsx)(F,{className:w.a.medium,typeId:"5",children:Object(j.jsx)(je,{data:n[2],typeId:"5"})}),Object(j.jsx)(F,{className:[w.a.medium,w.a.weatherBox].join(" "),title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(j.jsx)(ge,{})}),Object(j.jsx)(F,{className:[w.a.medium,w.a.epopBox].join(" "),children:Object(j.jsx)(Ee,{})})]}))})},De=function(){return Object(j.jsxs)("div",{className:g.a.home_container,children:[Object(j.jsx)(O,{municipality:"\u0394\u03c1\u03ac\u03bc\u03b1\u03c2"}),Object(j.jsx)(Fe,{})]})},Pe=n(75),Be=n.n(Pe),Le=function(){return Object(j.jsx)("div",{className:Be.a.footer,children:Object(j.jsx)("p",{className:Be.a.copyright,children:"\xa92019 - 2021 Dotsoft"})})},Ve=(n(144),n(53)),Me=n.n(Ve),Qe=function(e){var t=Object(s.useState)(!0),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null);Object(s.useRef)(null);return Object(j.jsxs)("div",{className:r?[Me.a.horizontal_side_panel,Me.a.side_panel_width,e.className].join(" "):[Me.a.horizontal_side_panel,e.className].join(" "),ref:i,children:[Object(j.jsx)("button",{className:Me.a.expand_button,type:"button",onClick:function(){return a((function(e){return!e}))},children:r?Object(j.jsx)(j.Fragment,{children:"\u276e"}):Object(j.jsx)(j.Fragment,{children:"\u276f"})}),Object(j.jsx)("div",{className:Me.a.content_panel,children:e.children})]})},Ue=n(76),We=n.n(Ue),ze=n(54),He=n.n(ze),Ze=function(e){return Object(j.jsxs)("div",{className:e.show?[He.a.vertical_side_panel,He.a.side_panel_height,e.className].join(" "):[He.a.vertical_side_panel,e.className].join(" "),children:[Object(j.jsx)("span",{onClick:function(){return e.close()},className:He.a.close_button_sticky,children:Object(j.jsx)("p",{className:He.a.close_button,children:"x"})}),e.children]})},Ge=(n(145),n(31)),Ke=n.n(Ge),qe=n(77),Ye=n.n(qe),Xe=function(e){return Object(j.jsx)("div",{className:Ye.a.input,children:Object(j.jsx)("input",{placeholder:e.inputPlaceHolder,className:e.className,type:e.type,onChange:function(t){return e.setSearch(t.target.value)}})})},Je=n(198),$e=n(196),et=n(190),tt=n(193),nt=n(201),rt=n(194),st=n(202),at=n(195),it=n(199),ot=n(71),ct=n.n(ot),lt=Object(et.a)((function(e){return{root:{display:"flex",paddingTop:"8px"},formControl:{margin:e.spacing(3)}}})),ut=function(e){var t=lt(),n=Object(s.useState)([]),r=Object(v.a)(n,2),a=r[0],i=r[1],o=Object(s.useState)(!1),c=Object(v.a)(o,2),l=c[0],u=c[1];Object(s.useEffect)((function(){if(e.filtersVars.length>0){var t=e.varsList.map((function(t){return{var:t,isActive:!!e.filtersVars.includes(t)}}));i(t),u(!0)}else{var n=e.varsList.map((function(e){return{var:e,isActive:!1}}));i(n),u(!1)}}),[e.filtersVars]);var p=function(t){console.log(t.target.value),e.setVars(a[t.target.value].var)};return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsxs)(nt.a,{component:"fieldset",className:t.formControl,children:[Object(j.jsx)(tt.a,{component:"legend",children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03bc\u03b5\u03c4\u03b1\u03b2\u03bb\u03ae\u03c4\u03b5\u03c2"}),Object(j.jsx)(rt.a,{children:a.slice(0,Math.ceil(a.length/2)).map((function(e,t){return Object(j.jsx)(st.a,{control:Object(j.jsx)(it.a,{checked:e.isActive,onChange:p,name:e.var,value:t}),label:e.var},t)}))})]}),Object(j.jsxs)(nt.a,{component:"fieldset",className:t.formControl,children:[Object(j.jsx)(tt.a,{component:"legend",style:{visibility:"hidden"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03bc\u03b5\u03c4\u03b1\u03b2\u03bb\u03ae\u03c4\u03b5\u03c2"}),Object(j.jsxs)(rt.a,{children:[a.slice(Math.ceil(a.length/2),a.length).map((function(e,t){return Object(j.jsx)(st.a,{control:Object(j.jsx)(it.a,{checked:e.isActive,onChange:p,name:e.var,value:t+parseInt(Math.ceil(a.length/2))}),label:e.var},t)})),Object(j.jsx)(at.a,{children:"\u0391\u03c0\u03cc \u03c4\u03bf \u03c5\u03c0\u03ac\u03c1\u03c7\u03c9\u03bd \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"})]})]})]}),Object(j.jsxs)("div",{className:ct.a.btns_action,children:[l&&Object(j.jsx)($e.a,{variant:"contained",color:"secondary",onClick:function(){e.clearVars()},style:{margin:"5px",width:"111.25px"},children:"\u0391\u03c0\u03b1\u03bb\u03bf\u03b9\u03c6\u03ae"}),Object(j.jsx)($e.a,{variant:"contained",color:"secondary",onClick:e.close,style:{margin:"5px",width:"111.25px"},children:"\u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae"})]})]})},pt=n(197),mt=n(200),dt=Object(et.a)((function(e){return{root:{display:"flex",padding:"8px 0"},formControl:{margin:e.spacing(3),marginRight:"12px",marginLeft:"12px"}}})),ft=function(e){var t=dt(),n=Object(s.useState)([]),r=Object(v.a)(n,2),a=r[0],i=r[1],o=Object(s.useState)([]),c=Object(v.a)(o,2),l=c[0],u=c[1];return Object(s.useEffect)((function(){e.subsystems.length>0&&(e.subsystems.length>5&&e.subsystems.length<=10?(i(e.subsystems.slice(0,5)),u(e.subsystems.slice(5,e.subsystems.length))):Math.ceil(e.subsystems.length/2)>5?(i(e.subsystems.slice(0,Math.ceil(e.subsystems.length/2))),u(e.subsystems.slice(Math.ceil(e.subsystems.length/2),e.subsystems.length))):i(e.subsystems))}),[e.subsystems]),Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsxs)(nt.a,{component:"fieldset",className:t.formControl,children:[Object(j.jsx)(tt.a,{component:"legend",style:{marginBottom:"5px",padding:"0 16px"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"}),Object(j.jsx)(rt.a,{children:a.map((function(t,n){return Object(j.jsx)(mt.a,{onClick:function(){return e.setOption(t.id)},children:t.name},n)}))})]}),l.length>0&&Object(j.jsxs)(nt.a,{component:"fieldset",className:t.formControl,children:[Object(j.jsx)(tt.a,{component:"legend",style:{visibility:"hidden",marginBottom:"5px"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"}),Object(j.jsx)(rt.a,{children:l.map((function(t,n){return Object(j.jsx)(mt.a,{onClick:function(){return e.setOption(t.id)},children:t.name},n+a.length)}))})]})]})},yt=function(e){var t=Object(s.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),o=Object(v.a)(i,2),c=o[0],l=o[1],u=Object(s.useState)([]),p=Object(v.a)(u,2),m=p[0],d=p[1],f=Object(s.useRef)(""),y=Object(s.useRef)(""),b=Object(s.useRef)(null),h=Object(s.useRef)(null),g=E(!1),_=Object(v.a)(g,2),x=_[0],O=_[1];console.log(x),Object(s.useEffect)((function(){h&&console.log(h.current)}),[h]),Object(s.useEffect)((function(){if(x.types.length>0&&x.sensors.length>0){for(var e=-1,t=0;t<x.types.length;t++)if(x.types[t].isActive){e=x.types[t].id;break}if(x.sensors===b.current&&(y.current===e||-1===e))return;y.current=e,b.current=x.sensors.length;var n=x.sensors.filter((function(t){return t.typeId===e})),r=[];if(n.length>0&&"9"!==n[0].typeId)for(var s=0;s<n.length;s++)for(var a=0;a<n[s].metrics.length&&(r.includes(n[s].metrics[a].content)||r.push(n[s].metrics[a].content),"8"!==n[s].typeId);a++);d(r)}}),[x.types,x.sensors]),console.log(m);var T=function(){a(null),l(null)};return Object(j.jsxs)("div",{className:Ke.a.search_subsystem_layout,children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABTDAAAUwwEVcE1CAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAIFQTFRF////AAAAQEBAREREQ0NDQkJCQkJCQ0NDREREQ0NDRUVFRUVFRUVFRUVFREREQ0NDRUVFREREREREQ0NDRERERERERUVFQ0NDRERERUVFREREREREQ0NDRUVFREREQ0NDQ0NDRUVFRERERUVFRERERERERERERERERERERERERERE9RjGDgAAACp0Uk5TAAEMHi4yNjk8UFVZXWBwcnN0dXZ8iI2Qk5iZmpucsbK9yd7j5enu+/3+GP/UjgAAAK1JREFUKM91kFsSgjAQBFcRUcF3BI0aAQNK3/+AfghFLJP5mtrOPjIiIiKJMtYalcivpppeeurW4xqqPE3zCurYeV/TZl+btdRjj6aNBh+16MEnkI3tGQwXKCp3YYXqnSF3QY7pnSV1QYoNgSY0qgwtL0LnLgIffAQiYekP8U13nvzH3t1nL7iMRBJlbFMWc5ENoB0yagtcvWQH3LxkD9y95ACcfECO8PQCWZerD5rwFlV5wNG1AAAAAElFTkSuQmCC",alt:"search icon",className:Ke.a.search_style}),Object(j.jsx)(Xe,{inputPlaceHolder:"\u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7",className:Ke.a.search_input,type:"search",setSearch:function(t){e.findTypeName(t)}}),Object(j.jsxs)("div",{className:Ke.a.select_place,children:[Object(j.jsxs)($e.a,{"aria-controls":"simple-menu","aria-haspopup":"true",style:{textTransform:"none"},onClick:function(e){a(e.currentTarget)},children:["\u03a5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1\xa0",Object(j.jsx)("span",{className:r?[Ke.a.rotate,Ke.a.animation].join(" "):Ke.a.rotate,children:"\u203a"})]}),Object(j.jsx)(Je.a,{id:"simple-popover",open:Boolean(r),anchorEl:r,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(j.jsx)(ft,{subsystems:x.types,setOption:function(t){console.log(t),a(null),f.current!==t&&(O("CLICKED_TYPE",t),O("DISABLE_SENSORS"),f.current=t,e.close(),e.clearVars())}})}),Object(j.jsx)($e.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(j.jsxs)(pt.a,{badgeContent:e.filtersVars.length,max:999,color:"secondary",style:{textTransform:"none"},children:["\u039c\u03b5\u03c4\u03b1\u03b2\u03bb\u03b7\u03c4\u03ae\xa0",Object(j.jsx)("span",{className:c?[Ke.a.rotate,Ke.a.animation].join(" "):Ke.a.rotate,children:"\u203a"})]})}),Object(j.jsx)(Je.a,{id:"simple-popover",open:Boolean(c),anchorEl:c,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(j.jsx)(ut,{varsList:m,setVars:e.setVars,filtersVars:e.filtersVars,close:T,clearVars:e.clearVars,type:f.current})})]})]})},jt=n(38),bt=n.n(jt),ht=n(59),gt=n.n(ht),_t=function(e){return Object(j.jsxs)("div",{className:gt.a.entity_container,children:[Object(j.jsx)("i",{className:e.icon,style:{fontSize:"20px",float:"left"}}),Object(j.jsxs)("div",{className:gt.a.information,children:[Object(j.jsx)("span",{className:gt.a.entity_title,children:e.title}),Object(j.jsx)("p",{className:gt.a.entity_addres,children:e.address}),e.icons.map((function(e,t){return e&&Object(j.jsx)("img",{src:e,alt:"info icons"},t)}))]})]})},xt=function(e){var t=Object(s.useState)(""),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),o=Object(v.a)(i,2),u=o[0],p=o[1],m=Object(s.useState)([]),d=Object(v.a)(m,2),f=d[0],y=d[1],b=Object(s.useState)([]),h=Object(v.a)(b,2),g=h[0],_=h[1],x=E(),O=Object(v.a)(x,2),T=O[0],w=O[1];Object(s.useEffect)((function(){if(T.types.length>0){var e=T.types.filter((function(e){return e.isActive}));-1!==e.length&&p(e[0])}}),[T.types]),Object(s.useEffect)((function(){if(T.sensors.length>0&&u){for(var e=T.sensors.filter((function(e){return e.typeId===u.id})),t="",n={},r=0;r<e.length;r++)e[r].isActive&&(t=e[r]),n=Object(l.a)(Object(l.a)({},n),{},Object(c.a)({},e[r].id,e[r].metrics.map((function(e){return e.icon_small}))));console.log(T.sensors),console.log(e),y(e),_(n),a(t)}}),[T.sensors,u]);console.log(r);var A=null;return u&&(A=Object(j.jsxs)("div",{className:[bt.a.subsystem_layout].join(" "),children:[Object(j.jsx)("div",{className:[bt.a.flexContainer,bt.a.subsystem_title_style].join(" "),style:{backgroundColor:u.color},children:Object(j.jsx)("p",{className:bt.a.subsystem_title,children:u.name})}),Object(j.jsx)("div",{className:bt.a.list_place,children:Object(j.jsx)("ul",{children:f.filter((function(t){return e.filterTypeName?t.title.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().includes(e.filterTypeName.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase())?t:void 0:t})).filter((function(t){if(0===e.filtersVars.length)return t;for(var n=!1,r=0;r<t.metrics.length;r++){for(var s=0;s<e.filtersVars.length;s++)if(t.metrics[r].content===e.filtersVars[s]){n=!0;break}if(n)break}return n?t:void 0})).map((function(t){return Object(j.jsx)("li",{style:{justifyContent:"flex-start"},className:t.id===r.id?[bt.a.flexContainer,bt.a.active].join(" "):bt.a.flexContainer,onClick:function(){!function(t){t!==r?(w("CLICKED_SENSOR",t.id),a(t),e.showAnimation(!0)):e.showAnimation(!1)}(t)},children:Object(j.jsx)(_t,{icon:u.icon,title:t.title,address:t.address,icons:g[t.id]})},t.id)}))})})]})),A},Ot=function(e){var t=Object(s.useState)(""),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),o=Object(v.a)(i,2),c=o[0],l=o[1];return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(yt,{close:e.close,findTypeName:a,setVars:function(e){c.includes(e)?l((function(t){return t.filter((function(t){return t!==e}))})):l((function(t){return t.concat(e)}))},filtersVars:c,clearVars:function(){l([])}}),Object(j.jsx)(xt,{showAnimation:e.showAnimation,filterTypeName:r,filtersVars:c})]})},vt=n(35),Tt=n.n(vt),wt=n(98),At=n(50),St={settings:{overlayColor:"rgb(104, 104, 104)",autoplaySpeed:1500,transitionSpeed:900},buttons:{backgroundColor:"black",iconColor:"white"},caption:{captionColor:"white",captionFontFamily:"Raleway, sans-serif",captionFontWeight:"300",captionTextTransform:"uppercase"},progressBar:{backgroundColor:"#f2f2f2",fillColor:"#000000",height:"3px",showProgressBar:!0}},Nt=function(){var e=Object(s.useState)({metrics:[],title:""}),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),i=Object(v.a)(a,2),o=i[0],c=i[1],l=E()[0],u=Object(s.useRef)(null),p=Object(s.useRef)(null),m=Object(s.useRef)(null);Object(s.useEffect)((function(){for(var e=0;e<l.types.length;e++)l.types[e].isActive&&(m.current=l.types[e].icon,p.current={backgroundColor:l.types[e].color,minWidth:"50px",maxWidth:"50px",minHeight:"50px",maxHeight:"50px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px"});if(l.sensors.length>0){c(!0);for(var t=0;t<l.sensors.length;t++)l.sensors[t].isActive&&("7"===l.sensors[t].typeId?(r({historic:{category:l.sensors[t].categoryName,image:l.sensors[t].thumbnail,content:l.sensors[t].content,images:l.sensors[t].images},title:l.sensors[t].title}),u.current="POIS"):(r({metrics:l.sensors[t].metrics,title:l.sensors[t].title}),u.current="Metrics"))}}),[l.sensors]),Object(s.useEffect)((function(){""!==n.title&&c(!1)}),[n]);var d=n.metrics&&n.metrics.filter((function(e){return e.value})).map((function(e,t){return Object(j.jsx)(K,{icon:e.icon_large,content:e.content,value:e.value,className:Tt.a.gradient_border,styleValue:{fontWeight:"400"}},t)})),f=n.historic&&Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(At.b,{children:Object(j.jsx)(At.a,{options:St,children:n.historic.image&&Object(j.jsx)("img",{src:n.historic.image,alt:"thumbnail",width:"100%",style:{cursor:"pointer"}})})}),n.historic.category&&Object(j.jsxs)("p",{style:{fontSize:"14px"},children:["\u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1: ",Object(j.jsx)("i",{children:n.historic.category})]}),n.historic.content&&Object(j.jsx)("div",{style:{marginTop:"20px",textAlign:"justify"},children:Object(wt.a)(n.historic.content)}),n.historic.images.length>0&&Object(j.jsxs)("div",{className:Tt.a.slider_placeholder,children:[Object(j.jsx)("p",{className:Tt.a.more_photos_descr,children:Object(j.jsx)("i",{children:"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03c6\u03c9\u03c4\u03bf\u03b3\u03c1\u03b1\u03c6\u03b9\u03ba\u03cc \u03c5\u03bb\u03b9\u03ba\u03cc:"})}),Object(j.jsx)(At.b,{children:Object(j.jsx)(At.a,{options:St,children:Object(j.jsx)(ee,{settings:{infinite:!1},children:n.historic.images.map((function(e,t){return Object(j.jsx)("div",{className:Tt.a.image_placeholder,children:Object(j.jsx)("img",{src:e,alt:n.title,width:"100%",style:{cursor:"pointer"}})},t)}))})})})]})]});return Object(j.jsxs)("div",{className:Tt.a.info_container,children:[Object(j.jsxs)("div",{className:Tt.a.sticky_title,children:[Object(j.jsx)(U,{icon:m.current,title:n.title,styleIcon:p.current,className:[Tt.a.info_title,Tt.a.height_unset].join(" ")}),Object(j.jsx)("hr",{className:Tt.a.gradient_line_style})]}),!o&&"Metrics"===u.current&&d,!o&&"POIS"===u.current&&f]})},Ct=null,kt=function(e){var t=Object(s.useState)(!1),n=Object(v.a)(t,2),r=n[0],i=n[1],o=function(){i(!1)},c=function(e){r&&e?(clearTimeout(Ct),i(!1),Ct=setTimeout((function(){return i(!0)}),250)):i(!0)};return Object(s.useEffect)((function(){return function(){return clearTimeout(Ct)}}),[]),console.log(e),Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(Qe,{children:Object(j.jsx)(Ot,{showAnimation:c,close:o})}),Object(j.jsx)(Ze,{show:r,close:o,children:Object(j.jsx)(Nt,{})}),Object(j.jsx)("div",{className:e.mapFrame?We.a.wrapper_full:We.a.wrapper,children:a.a.cloneElement(e.children,{showAnimation:c})})]})},It=(n(160),n.p+"static/media/green_mark_icon.40a6b5f3.svg"),Et=n.p+"static/media/orange_mark_icon.b486287a.svg",Rt=n.p+"static/media/blue_mark_icon.ae283786.svg",Ft=n.p+"static/media/yellow_mark_icon.5125b8f6.svg",Dt=n.p+"static/media/light_blue_mark_icon.ecf0d3f0.svg",Pt=n.p+"static/media/pin_blue_icon.df743f91.svg",Bt={1:It,2:Et,3:Rt,4:Ce,5:Ft,6:Dt,7:Pt,8:Pt,9:Ce,10:Et},Lt=function(e){var t=Object(_e.d)({googleMapsApiKey:"AIzaSyDQlCnn8F1D0S9ymnWZwc_WFx2ZS6g8w1Q"}).isLoaded,n=Object(s.useState)(null),r=Object(v.a)(n,2),a=r[0],i=r[1],o=Object(s.useState)(null),c=Object(v.a)(o,2),l=c[0],u=c[1],p=Object(s.useState)([]),m=Object(v.a)(p,2),f=m[0],y=m[1],b=Object(s.useState)(e.cityCenter),h=Object(v.a)(b,2),g=h[0],_=h[1],x=Object(s.useRef)(null),O=E(),T=Object(v.a)(O,2),w=T[0],A=T[1],S=Object(s.useRef)(null),N=Object(d.g)(),C=Object(s.useRef)(null),k=Object(s.useRef)(14),I=Object(s.useRef)(null),R=Object(s.useCallback)((function(e){i(e)}),[]),F=Object(s.useCallback)((function(e){i(e)}),[]);Object(s.useEffect)((function(){if(w.types.length>0&&w.sensors.length>0){for(var e=-1,t=0;t<w.types.length;t++)if(w.types[t].isActive){e=w.types[t].id,S.current=Bt[w.types[t].id];break}if(-1!==e){for(var n=w.sensors.filter((function(t){return t.typeId===e})),r=null,s=0;s<n.length;s++)if(n[s].isActive){r=n[s].id,D(n[s].position);break}u(r||null),y(n)}-1===e&&A("CLICKED_TYPE",w.types[0].id)}}),[w.types,w.sensors]);var D=function(e){e&&g!==e&&(x.current={lat:(g.lat-e.lat)/5,lng:(g.lng-e.lng)/5},clearInterval(I.current),I.current=setInterval(P,50),setTimeout((function(){clearInterval(I.current),I.current=null}),250),k.current<16&&(k.current=16))},P=function(){_((function(e){return{lat:e.lat-x.current.lat,lng:e.lng-x.current.lng}}))};return Object(s.useEffect)((function(){console.log(new URLSearchParams(N.search).get("typeId")),"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"===N.pathname&&""!==N.search&&(console.log(new URLSearchParams(N.search).get("typeId")),C.current=new URLSearchParams(N.search).get("typeId"))}),[N]),Object(s.useEffect)((function(){C.current&&w.types.length>0&&(A("CLICKED_TYPE",C.current),C.current=null)}),[w.types]),console.log(f),console.log("Map"),console.log(e),Object(j.jsxs)(s.Fragment,{children:[t&&Object(j.jsxs)(_e.a,{center:g,zoom:k.current,onLoad:R,onUnmount:F,onDragEnd:function(){return _(a.getCenter().toJSON())},onZoomChanged:function(){return a&&(k.current=a.getZoom())},options:{styles:Ne},children:[Object(j.jsx)(s.Fragment,{children:f.map((function(t){return Object(j.jsx)(_e.c,{position:t.position,animation:4,clickable:!0,icon:t.id===l?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7gAAAO4BBtayNAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATbSURBVFiFtZdLbBNXFIb/Ox7bcZLyCElKZDkhmSQQkmBSQKoQUpG68KKLCiGRCqlU0FU2RUI8JCQkRDesWFSIIiFoCQhQTJEAAcoiAhaBkoRg14Y4Ho8fsQJpqPPwI/Z4Zu7tilYlM7Fj6Fne+5/zfzr3nqsZwhhDseFwOKosnGU7x2Gr2VyxU6N5JwCYOItXUTKPKcVwnuafxOPxmWJrkmIBWpqavuWI+edPVjhozVpn2ZpPO8xV1W0AgJm/xpD406+8nfLmUsk4R5nSI4bDVz4KQHNzcy1PrJct5oovtn/5o61m7eYl9W+nPHgycCKbVzKPVSZ/FwqFpksGaKmvFziz7Xlj61e2rs9/sPC8bUnzd6GqWbz4/ad8JHgvS5XsFnFiQjLScoZkhHAma2XfRue+im07jhVtDgA8b8O2HccsG537KkzWyj5CiKGP4YbQKBwqr6jd0N61ny/a+b1o79rPl1fUbhAahUNGGt0jaGpqWs8T3uv6+pJ11ZqWUv0BAHMJEf23D8gqU53hcHj8/X3dDpgY2btOcHFLmaeTk5ACdyAF7iCdnDTUrVrTgnWCizMxsldvXxeAN5fvrKnbbDYqGvBd1+6597BYyC3HQm75nnsPC/iua0b6mrrNZt5cvlPXS2+RavmudzP+fky/GcUfw+fI/p5fiN3RaQWAybgPv57/nlRVr0dt3WeLcqqq20C1fJdevUUdEAShnoHZVq5u1AWIhR7k250uzu7o/GfN7uhEu9PFxUIP8no5K1c3goHZBEGoLwjAaZrdal2RM5qchcy0Wmdf3J06exsWMtOqXg4hHKzWFTlO0+wFAajJ9CqbnSmnVNEFqK7dVDY6dGuR0ejQLbW6dlOZXg6lCrLZmXJqMr0qCCBJ0jzPlyXmEqIuQGtHN5dOzbIblw+q4dAzhEPPcOPyQTWdmmWtHd26bZtLiOD5soQkSfMFAQCAUdYXDt7XbYHZUgnXrl6zLPOq+8phxX3lsCLLvOra1Ws2Wyp1ocPB+wqjrE9vT/chamlo2GiyVD7fva+/jOMMp7GooFTBb72unJZPbxFjscJHAABiLPaKEC4YHr/7QeYAEB6/C0K4oJ65IQAAqEr6qHf4vKypuZLNNTUH7/B5WVXSR400hgBiJNLPqDYS8F2jpQIEfNcoo9qIGIn0LxsAAPK5bM9LT68i5xZd3oIh5+bx0tOr5HPZnqV0SwJIcclHCHfT/+KivFwA/4uLMiHcTSku+UoGAICckjkSGrutpVOvizZPp14jNHZbyymZI4W0BQGi0egbMHrm6cOTWaCYD1iGpw9PZsHomWg0+uaDAQDAtpA8PZsYTwX97oLaoN+N2cR4yraQPF1M7aIAvFNTGarJ3Z6hs2pqfsJQl5qfgGforEo1uds7NZX5aAAAIEYijwjhzg0OnJAZWzyZjFEMDpyQCeHOiZHIo2LrFg0AABpRj6aS8ckx79VFl2HMe5WlkvFJjaiGj84HA4iiKFN1Ybdv9IIyN/Pvp/7cjATf6AWFqgu7RVFc1sguCwAAgpGIBwynBgeOZylVQamKwYHjWTCcCkYinuXWK/rf8D9JhHAbmttGWju+6QSAoP+GLxAa28r0Lsf/AQAA6xsamhhv9QMAUeWO8VgsXEqdkgEAQFgnHAAAKSpdKrXG3zstUAni5+k/AAAAAElFTkSuQmCC":t.bigMarker?t.bigMarker:S.current,onClick:function(){l!==t.id?(A("CLICKED_SENSOR",t.id),u(t.id),e.showAnimation(!0)):e.showAnimation(!1)},children:l&&t.id===l&&Object(j.jsx)(_e.b,{children:Object(j.jsx)("p",{children:t.title})})},t.id)}))}),Object(j.jsx)(j.Fragment,{})]}),!t&&Object(j.jsx)(le,{})]})},Vt=a.a.memo(Lt),Mt={lat:41.1480676,lng:24.1250772},Qt=function(e){return Object(j.jsx)(kt,{mapFrame:e.mapFrame?e.mapFrame:null,children:Object(j.jsx)(Vt,{cityCenter:Mt})})},Ut=n(99),Wt=n.n(Ut),zt={1:"https://drama.smartiscity.gr/mappreview/index.php",2:"https://drama.smartiscity.gr/mappreview/index.php",3:"https://drama.smartiscity.gr/mappreview/index.php",4:"https://drama.smartiscity.gr/mappreview/index.php",5:"https://drama.smartiscity.gr/mappreview/index.php",6:"https://drama.smartiscity.gr/mappreview/index.php"},Ht=function(){var e=Object(d.g)(),t=Object(s.useState)(1),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(!0),o=Object(v.a)(i,2),c=o[0],l=o[1];return Object(s.useEffect)((function(){var t=new URLSearchParams(e.search).get("id"),n=-1;!isNaN(t)&&parseInt(t)>=0&&parseInt(t)<=6&&(n=parseInt(t)),-1!==n&&a(t),l(!1)}),[e]),Object(j.jsxs)(s.Fragment,{children:[!c&&Object(j.jsx)("iframe",{style:{border:"none"},src:zt[r],title:"Map Alexandroupoli",className:Wt.a.iframeContainer}),c&&Object(j.jsx)(le,{})]})},Zt="https://drama.smartiscity.gr",Gt=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("feed types"),e.next=3,fetch(Zt+"/api/api.php?func=sensortypes",{signal:t}).catch((function(e){return console.warn(e)}));case 3:if(void 0!==(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,n.json();case 8:return r=e.sent,console.log(r),s=r.map((function(e){var t=null;e.sensortype_icon&&(t=e.sensortype_icon.split("-")[0]+" "+e.sensortype_icon);return{id:e.sensortype_id,name:e.sensortype_name,icon:t,tooltip:e.tooltip,color:e.sensortype_color,isActive:!1}})),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("feed sensors"),e.next=3,fetch(Zt+"/api/api.php?func=allsensors",{signal:t}).catch((function(e){return console.warn(e)}));case 3:if(void 0!==(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,n.json();case 8:return r=e.sent,console.log(r),s=r.filter((function(e){return"7"!==e.sensortype_id&&"8"!==e.sensortype_id&&"9"!==e.sensortype_id&&"10"!==e.sensortype_id})).map((function(e){var t=e.sensor_address?e.sensor_address.split(", "):"";return t=t.length>1?t[1]:e.mysensor_name,{id:e.mysensor_id,typeId:e.sensortype_id,boxTitle:t,title:e.mysensor_name,group:e.group,groupName:e.group_name,smallMarker:e.marker,locationId:e.location_id,address:e.sensor_address,color:e.sensortype_color,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},metrics:[],isActive:!1}})),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=E(!1)[1],t=new AbortController,n=t.signal;Object(s.useEffect)((function(){var s=function(){var t=Object(m.a)(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt(n);case 2:r=t.sent,e("INITIALIZE_TYPES",r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(m.a)(p.a.mark((function t(){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(n);case 2:s=t.sent,e("INITIALIZE_SENSORS",s),r();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s(),a(),function(){return t.abort()}}),[]);var r=function(){i("https://drama.smartiscity.gr/api/api.php?func=envi"),o(),i("https://drama.smartiscity.gr/api/api.php?func=meteo"),i("https://drama.smartiscity.gr/api/api.php?func=waterq"),u(),f(),y(),h()},i=function(){var t=Object(m.a)(p.a.mark((function t(r){var s,a,i,o,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r,{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(s=t.sent)&&s.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,s.json();case 7:for(a=t.sent,console.log(a),i={},o=function(e){var t=[];a[e].details.map((function(n){var r=0,s="";n.sensorvar_dec&&(r=parseInt(n.sensorvar_dec)),n.sensorvar_unit&&(s=" "+n.sensorvar_unit);var i=parseFloat(n.measurement).toFixed(r)+s;isNaN(n.measurement)&&(i=n.measurement),t.push({parentId:a[e].mysensor_id,content:n.sensorvar_description,value:i,valid:"valid"in n?n.valid:1,icon_small:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Small/"+n.sensorvar_icon,icon_large:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Big/"+n.sensorvar_icon})})),i=Object(l.a)(Object(l.a)({},i),{},Object(c.a)({},a[e].mysensor_id,{metrics:t,tooltip:a[e].tooltip}))},u=0;u<a.length;u++)o(u);e("ADD_METRICS",i),console.log(i);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(m.a)(p.a.mark((function t(){var r,s,a,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=mesh",{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:for(s=t.sent,console.log(s),a={},i=function(e){var t=[];s[e].details.map((function(n){t.push({parentId:s[e].mysensor_id,content:n.sensorvar_description,value:n.wfTotal?n.wfTotal:n.btTotal,icon_small:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Small/"+n.sensorvar_icon,icon_large:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Big/"+n.sensorvar_icon})})),a=Object(l.a)(Object(l.a)({},a),{},Object(c.a)({},s[e].mysensor_id,{metrics:t,tooltip:s[e].tooltip?s[e].tooltip:""}))},o=0;o<s.length;o++)i(o);e("ADD_METRICS",a),console.log(a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(m.a)(p.a.mark((function t(){var r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=pois&lang=el",{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:s=t.sent,console.log(s),a=[],s.map((function(e){a.push({typeId:"7",id:e.id,categoryId:e.category_id,categoryName:e.category_name,title:e.name,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},address:e.address,smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,thumbnail:e.main_image,images:e.images,content:e.portal_main_info,metrics:[{content:e.category_name}],isActive:!1})})),e("ADD_SENSORS",a),console.log(a);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(m.a)(p.a.mark((function t(){var r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=fleeto",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:s=t.sent,console.log(s),console.log(s),a=[],s.map((function(e){var t=[{content:e.category_name}];e.speed&&t.push({content:"\u03a4\u03b1\u03c7\u03cd\u03c4\u03b7\u03c4\u03b1",value:e.speed+" km/h"}),e.altitude&&t.push({content:"\u03a5\u03c8\u03cc\u03bc\u03b5\u03c4\u03c1\u03bf",value:e.altitude+" \u03bc\u03ad\u03c4\u03c1\u03b1"}),e.angle&&t.push({content:"\u0393\u03c9\u03bd\u03af\u03b1",value:e.angle+" \u03bc\u03bf\u03af\u03c1\u03b5\u03c2"}),a.push({typeId:"8",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:e.category_name,title:e.name,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",a),console.log(a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(m.a)(p.a.mark((function t(){var r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=bins",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:s=t.sent,console.log(s),console.log(s),a=[],s.map((function(e){var t=[];t.push({content:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03b1\u03b9\u03c3\u03b8\u03b7\u03c4\u03ae\u03c1\u03b1",value:e.mote},{content:"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc \u03c0\u03bb\u03b7\u03c1\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2",value:e.value+"%"},{content:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",value:1===e.status?"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc":"\u0391\u03c0\u03b5\u03bd/\u03bc\u03ad\u03bd\u03bf"}),a.push({typeId:"9",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03b5\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7:"+e.date.split(":")[0]+":"+e.date.split(":")[1],title:e.location,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",a),console.log(a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(m.a)(p.a.mark((function t(){var r,s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=hydro",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:s=t.sent,console.log(s),console.log(s),a=[],s.map((function(e){var t=[];t.push({content:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03b1\u03b9\u03c3\u03b8\u03b7\u03c4\u03ae\u03c1\u03b1",value:e.mote},{content:"\u0388\u03bd\u03b4\u03b5\u03b9\u03be\u03b7",value:e.value+"\u03ba.\u03bc."},{content:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",value:1===e.status?"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc":"\u0391\u03c0\u03b5\u03bd/\u03bc\u03ad\u03bd\u03bf"}),a.push({typeId:"10",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:e.date?"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03b5\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7:"+e.date.split(":")[0]+":"+e.date.split(":")[1]:"",title:e.location,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",a),console.log(a);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=Object(d.g)();return console.log(g),Object(j.jsxs)(a.a.Fragment,{children:["/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"!==g.pathname&&Object(j.jsx)(b,{}),Object(j.jsx)("main",{style:"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"===g.pathname?{marginTop:0,marginBottom:0,height:"100%"}:{},children:Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/",component:De,exact:!0}),Object(j.jsx)(d.a,{path:"/map",component:Qt}),Object(j.jsx)(d.a,{path:"/frame",component:Ht}),Object(j.jsxs)(d.a,{path:"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451",exact:!0,children:[" ",Object(j.jsx)(Qt,{mapFrame:!0})," "]})]})}),"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"!==g.pathname&&Object(j.jsx)(Le,{})]})},Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},Xt=(n.p,function(e,t){var n=e.findIndex((function(e){return!0===e.isActive}));return console.log(n),-1!==n&&(e[n]=Object(l.a)(Object(l.a)({},e[n]),{},{isActive:!1})),console.log(t),null!==t&&(e[t]=Object(l.a)(Object(l.a)({},e[t]),{},{isActive:!0})),e}),Jt=function(){console.log("Configure"),R({CLICKED_SENSOR:function(e,t){console.log("CLICKED_SENSOR");var n=e.sensors.findIndex((function(e){return e.id===t})),r=Object(D.a)(e.sensors);return{sensors:Xt(r,n)}},DISABLE_SENSORS:function(e){console.log("DISABLE_SENSORS");var t=Object(D.a)(e.sensors);return{sensors:Xt(t,null)}},ADD_METRICS:function(e,t){for(var n=Object(D.a)(e.sensors),r=0;r<n.length;r++)n[r].id in t&&(n[r]=Object(l.a)(Object(l.a)({},n[r]),{},{metrics:t[n[r].id].metrics,tooltip:t[n[r].id].tooltip}));return{sensors:n}},ADD_SENSORS:function(e,t){return{sensors:[].concat(Object(D.a)(e.sensors),Object(D.a)(t))}},INITIALIZE_SENSORS:function(e,t){return{sensors:t}}},{sensors:[]})};(function(){console.log("Configure"),R({CLICKED_TYPE:function(e,t){var n=e.types.findIndex((function(e){return e.id===t})),r=Object(D.a)(e.types);return{types:Xt(r,n)}},INITIALIZE_TYPES:function(e,t){return{types:t}}},{types:[]})})(),Jt(),o.a.render(Object(j.jsx)(L.a,{children:Object(j.jsx)(qt,{})}),document.getElementById("root")),Yt()},18:function(e,t,n){e.exports={box_placeholder:"BoxPlaceholder_box_placeholder__f2X8N",flexContainer:"BoxPlaceholder_flexContainer__1MlSr",medium:"BoxPlaceholder_medium__MXk5P",large:"BoxPlaceholder_large__1OPRB",map_box:"BoxPlaceholder_map_box__2Z7ha",weatherBox:"BoxPlaceholder_weatherBox__1vWpi",epopBox:"BoxPlaceholder_epopBox__38vue",frameBox:"BoxPlaceholder_frameBox__3GitC"}},27:function(e,t,n){e.exports={weatherTitle:"Weather_weatherTitle__y_mHC",weatherGridContainer:"Weather_weatherGridContainer__1W7H6",squareBox:"Weather_squareBox__20MjT",descriptionContent:"Weather_descriptionContent__ktd9E",tempBox:"Weather_tempBox__2UP0i"}},31:function(e,t,n){e.exports={search_subsystem_layout:"SearchSubSystem_search_subsystem_layout__3CD-9",search_style:"SearchSubSystem_search_style__1LkUp",search_input:"SearchSubSystem_search_input__1h6LU",rotate:"SearchSubSystem_rotate__SP_9_",animation:"SearchSubSystem_animation__iSVgQ",select_place:"SearchSubSystem_select_place__1roOz"}},35:function(e,t,n){e.exports={info_container:"Vertical_info_container__3ed2M",sticky_title:"Vertical_sticky_title__1U06w",info_title:"Vertical_info_title__3P_Vv",gradient_border:"Vertical_gradient_border__CG0fK",gradient_line_style:"Vertical_gradient_line_style__jAvUa",height_unset:"Vertical_height_unset__19Mdg",more_photos_descr:"Vertical_more_photos_descr__22Fw5",slider_placeholder:"Vertical_slider_placeholder__1QBqf"}},38:function(e,t,n){e.exports={subsystem_layout:"SubSystemList_subsystem_layout__aI9ny",subsystem_title_style:"SubSystemList_subsystem_title_style__1HQuO",flexContainer:"SubSystemList_flexContainer__2DoQi",subsystem_title:"SubSystemList_subsystem_title__3jUW0",list_place:"SubSystemList_list_place__2t7_T",active:"SubSystemList_active__2I3tS",susystem_item:"SubSystemList_susystem_item__1Z4jQ"}},43:function(e,t,n){e.exports={flexContainer:"Title_flexContainer__i9PtX",title:"Title_title__M14vI",info_icon:"Title_info_icon__SFUoc",triggerTooltip:"Title_triggerTooltip__3xFsk",lastElementPlaceholder:"Title_lastElementPlaceholder__1i777",dragAndDropTooltip:"Title_dragAndDropTooltip__1tD4Z"}},51:function(e,t,n){e.exports={header:"Header_header__1cVab",flexContainer:"Header_flexContainer___c901",app_logo:"Header_app_logo__3oOF-",epsa_logo:"Header_epsa_logo__1KlNP",epsa_logo_normal:"Header_epsa_logo_normal__3jLZb",epsa_logo_absolute:"Header_epsa_logo_absolute__2yRGX"}},52:function(e,t,n){e.exports={entity:"Entity_entity__2-jFH",gridContainer:"Entity_gridContainer__3MLPu",icon:"Entity_icon__1NJxV",content:"Entity_content__b8jTc",value:"Entity_value__pOojd"}},53:function(e,t,n){e.exports={horizontal_side_panel:"HorizontalSidePanel_horizontal_side_panel__3TiFi",side_panel_width:"HorizontalSidePanel_side_panel_width__3jkiT",expand_button:"HorizontalSidePanel_expand_button__3ALpN",content_panel:"HorizontalSidePanel_content_panel__38yCM"}},54:function(e,t,n){e.exports={vertical_side_panel:"VerticalSidePanel_vertical_side_panel__yp1wT",side_panel_height:"VerticalSidePanel_side_panel_height__2gaLe",close_button_sticky:"VerticalSidePanel_close_button_sticky__1j4Y5",close_button:"VerticalSidePanel_close_button__IXvGW"}},58:function(e,t,n){e.exports={wrapper:"MapPOIS_wrapper__3NkuU",map_title_style:"MapPOIS_map_title_style__1tzHU"}},59:function(e,t,n){e.exports={entity_container:"Entity_entity_container__3diAW",title_container:"Entity_title_container__2yVhb",entity_title:"Entity_entity_title__2r0au",entity_addres:"Entity_entity_addres__9MwIB",information:"Entity_information__17dso"}},71:function(e,t,n){e.exports={btns_action:"PopupMenu_btns_action__1QpIs"}},74:function(e,t,n){e.exports={iframes_container:"MapStore_iframes_container__3ysG7"}},75:function(e,t,n){e.exports={footer:"Footer_footer__3QNpF",copyright:"Footer_copyright__3SiTr"}},76:function(e,t,n){e.exports={wrapper:"MapContainer_wrapper__2LPcx",wrapper_full:"MapContainer_wrapper_full__1dqBu"}},77:function(e,t,n){e.exports={input:"Input_input__2qwUT"}},86:function(e,t,n){e.exports={home_container:"Home_home_container__2_RKC"}},87:function(e,t,n){e.exports={welcome_placeholder:"WelcomeMessage_welcome_placeholder__3Lhs6"}},88:function(e,t,n){e.exports={box:"Box_box__BAu_5"}},90:function(e,t,n){e.exports={tooltip:"Tooltip_tooltip__2COb8"}},91:function(e,t,n){e.exports={subTitle_placeholder:"SubTitle_subTitle_placeholder__1puLZ",subTitleBold:"SubTitle_subTitleBold__26uQy"}},93:function(e,t,n){e.exports={slider:"CustomSlider_slider__3BZ-x","slick-next":"CustomSlider_slick-next__xdufX"}},99:function(e,t,n){e.exports={iframeContainer:"Frame_iframeContainer__3BktV"}}},[[161,1,2]]]);
//# sourceMappingURL=main.640ebb12.chunk.js.map