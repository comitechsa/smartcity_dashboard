(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{109:function(e,t,n){e.exports={btns_action:"PopupMenu_btns_action__1QpIs"}},112:function(e,t,n){e.exports={home_container:"Home_home_container__2_RKC",horizontal_side_panel_fs:"Home_horizontal_side_panel_fs__2Pu08"}},114:function(e,t,n){e.exports={iframes_container:"MapStore_iframes_container__3ysG7"}},115:function(e,t,n){e.exports={input:"Input_input__2qwUT"}},116:function(e,t,n){e.exports={footer:"Footer_footer__3QNpF",copyright:"Footer_copyright__3SiTr"}},117:function(e,t,n){e.exports={wrapper:"MapContainer_wrapper__2LPcx",wrapper_full:"MapContainer_wrapper_full__1dqBu"}},147:function(e,t,n){e.exports={welcome_placeholder:"WelcomeMessage_welcome_placeholder__3Lhs6"}},148:function(e,t,n){e.exports={box:"Box_box__BAu_5"}},149:function(e,t,n){e.exports={tooltip:"Tooltip_tooltip__2COb8"}},150:function(e,t,n){e.exports={subTitle_placeholder:"SubTitle_subTitle_placeholder__1puLZ",subTitleBold:"SubTitle_subTitleBold__26uQy"}},152:function(e,t,n){e.exports={slider:"CustomSlider_slider__3BZ-x","slick-next":"CustomSlider_slick-next__xdufX"}},157:function(e,t,n){e.exports={graphs_container:"SubSystemGraph_graphs_container__hrq7h"}},161:function(e,t,n){e.exports={iframeContainer:"Frame_iframeContainer__3BktV"}},175:function(e,t,n){},182:function(e,t,n){},200:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},22:function(e,t,n){e.exports={box_placeholder:"BoxPlaceholder_box_placeholder__f2X8N",flexContainer:"BoxPlaceholder_flexContainer__1MlSr",medium:"BoxPlaceholder_medium__MXk5P",large:"BoxPlaceholder_large__1OPRB",map_box:"BoxPlaceholder_map_box__2Z7ha",weatherBox:"BoxPlaceholder_weatherBox__1vWpi",epopBox:"BoxPlaceholder_epopBox__38vue",uv_style:"BoxPlaceholder_uv_style__3H5Tm",frameBox:"BoxPlaceholder_frameBox__3GitC"}},26:function(e,t,n){e.exports={subsystem_container:"HorizontalGraph_subsystem_container__1D8Dp",search_subsystem_layout:"HorizontalGraph_search_subsystem_layout__21nLL",search_input:"HorizontalGraph_search_input__2N8rI",search_style:"HorizontalGraph_search_style__2z3QY",rotate:"HorizontalGraph_rotate__17ds5",animation:"HorizontalGraph_animation__i7suZ",select_place:"HorizontalGraph_select_place__24Hkv"}},312:function(e,t,n){},313:function(e,t,n){},328:function(e,t,n){e.exports={centerMapBtn:"SmartisCityMap_centerMapBtn__25OeM"}},329:function(e,t,n){"use strict";n.r(t);var r,a,s=n(0),i=n.n(s),c=n(17),o=n.n(c),l=(n(175),n(19)),u=n(6),p=n(14),d=n.n(p),m=n(24),f=n(20),j=n(65),b=n.n(j),y=n(1),h=function(){var e=Object(f.f)();return Object(y.jsxs)("div",{className:[b.a.header,b.a.flexContainer].join(" "),children:[Object(y.jsx)("div",{className:b.a.app_logo,children:Object(y.jsx)("img",{src:"https://drama.smartiscity.gr/gallery/smartiscity__drama_logo.png",alt:"smartiscity logo",width:"100%",onClick:function(){"/"!==e.location.pathname&&e.push("/")}})}),Object(y.jsx)("div",{className:b.a.epsa_logo,children:Object(y.jsx)("img",{src:"https://drama.smartiscity.gr/gallery/espa_drama.png",alt:"interreg logo",className:b.a.epsa_logo_normal})})]})},g=n(112),_=n.n(g),x=n(147),O=n.n(x),v=function(e){return Object(y.jsxs)("div",{className:O.a.welcome_placeholder,children:[Object(y.jsxs)("p",{children:["\u039f \u0394\u03ae\u03bc\u03bf\u03c2 ",e.municipality," \u03c3\u03b1\u03c2 \u03ba\u03b1\u03bb\u03c9\u03c3\u03bf\u03c1\u03af\u03b6\u03b5\u03b9 \u03c3\u03c4\u03b7\u03bd \u03a0\u03bb\u03b1\u03c4\u03c6\u03cc\u03c1\u03bc\u03b1 \u0395\u03be\u03c5\u03c0\u03bd\u03b7\u03c2 \u03a0\u03cc\u03bb\u03b7\u03c2."]}),Object(y.jsx)("p",{children:" \u0395\u03bd\u03b7\u03bc\u03b5\u03c1\u03c9\u03b8\u03b5\u03af\u03c4\u03b5 \u03b3\u03b9\u03b1 \u03c4\u03b9\u03c2 \u03c3\u03c5\u03bd\u03b8\u03ae\u03ba\u03b5\u03c2 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03ba\u03c1\u03b1\u03c4\u03bf\u03cd\u03bd \u03c3\u03c4\u03b7\u03bd \u03c0\u03cc\u03bb\u03b7 \u03bc\u03b1\u03c2."})]})},T=n(4),w=n(22),S=n.n(w),A=n(148),N=n.n(A),C=n(16),k={},I=[],E={},F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(s.useState)(k)[1],n=function(e,t){var n=E[e](k,t);console.log(n),k=Object(u.a)(Object(u.a)({},k),n);var r,a=Object(C.a)(I);try{for(a.s();!(r=a.n()).done;){(0,r.value)(k)}}catch(s){a.e(s)}finally{a.f()}};return Object(s.useEffect)((function(){return e&&I.push(t),function(){e&&(I=I.filter((function(e){return e!==t})))}}),[t,e]),[k,n]},R=function(e,t){t&&(k=Object(u.a)(Object(u.a)({},k),t)),E=Object(u.a)(Object(u.a)({},E),e)},D=function(e){var t=Object(s.useState)(null),n=Object(T.a)(t,2),r=n[0],a=n[1],i=F()[0];return Object(s.useEffect)((function(){if(i.types.length>0&&e.typeId){var t=i.types.findIndex((function(t){return t.id===e.typeId}));-1!==t&&a({backgroundColor:i.types[t].color})}}),[i.types,e.typeId]),Object(y.jsx)("div",{className:[N.a.box,e.className].join(" "),style:r||null,children:e.children})},B=n(12),P=(n(182),n(54)),L=n.n(P),V=n(40),z=n(149),H=n.n(z),M=function(e){return Object(y.jsx)(i.a.Fragment,{children:Object(y.jsx)("p",{id:"tooltip",className:[H.a.tooltip,e.className].join(" "),children:e.tooltipContent})})},U=function(e){var t=F(!1)[1];return Object(y.jsxs)("div",{className:[L.a.flexContainer,e.className].join(" "),children:[e.icon&&Object(y.jsx)("i",{className:e.icon,style:e.styleIcon?Object(u.a)({color:"white",fontSize:"30px"},e.styleIcon):{color:"white",fontSize:"30px"}}),!e.icon&&Object(y.jsx)("div",{style:{minWidth:"32px"}}),Object(y.jsxs)("div",{className:L.a.title,children:[e.link&&Object(y.jsx)(V.b,{onClick:function(){return e.id&&t("CLICKED_TYPE",e.id)},to:e.link,children:e.title}),!e.link&&e.title,e.infoContext&&Object(y.jsxs)("span",{className:L.a.triggerTooltip,children:[Object(y.jsx)("i",{className:"fa fa-info-circle",style:{color:"white",margin:"2px 5px 0",position:"absolute"}}),Object(y.jsx)(M,{tooltipContent:e.infoContext})]})]}),Object(y.jsxs)("div",{className:[L.a.lastElementPlaceholder,L.a.triggerTooltip].join(" "),children:[e.element,Object(y.jsx)(M,{tooltipContent:"\u03a3\u03cd\u03c1\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03b5\u03b4\u03ce",className:L.a.dragAndDropTooltip})]})]})},Q=n(150),W=n.n(Q),G=function(e){return Object(y.jsx)("div",{className:[W.a.subTitle_placeholder,e.className].join(" "),style:e.style,children:Object(y.jsx)("p",{children:e.children})})},Z=n(66),K=n.n(Z),q=function(e){return Object(y.jsxs)("div",{className:[K.a.entity,K.a.gridContainer,e.className].join(" "),children:[Object(y.jsx)("div",{className:K.a.icon,children:e.icon&&Object(y.jsx)("img",{src:e.icon,alt:"icon",width:"32px"})}),Object(y.jsx)("div",{className:K.a.content,children:e.content}),Object(y.jsx)("div",{className:K.a.value,style:e.styleValue,children:e.value})]})},Y=n(151),X=n.n(Y),J=(n(198),n(199),n(152)),$=n.n(J),ee=(n(200),{infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),te=function(e){var t="settings"in e?Object(u.a)(Object(u.a)({},ee),e.settings):ee;return Object(y.jsx)(X.a,Object(u.a)(Object(u.a)({className:$.a.slider},t),{},{children:e.children}))},ne=n(113),re=n(153),ae=n.n(re),se=n(154),ie=n.n(se),ce=n(155),oe=n.n(ce),le=n(57),ue=Object(le.css)(r||(r=Object(ne.a)(["\n  position: absolute;\n  top: calc(50% - 25px);\n  left: calc(50% - 25px);\n"]))),pe=Object(le.css)(a||(a=Object(ne.a)(["\n  position: absolute;\n  top: calc(50% - 23.5px);\n  left: calc(50% - 135px);\n"]))),de=function(){return Object(y.jsx)(ae.a,{color:"white",loading:!0,size:60,css:ue})},me=function(){return Object(y.jsx)(ie.a,{color:"white",loading:!0,size:50,css:ue})},fe=function(){return Object(y.jsx)(oe.a,{color:"#e3728f",loading:!0,size:50,css:pe})},je=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},be=function(e,t){var n=[];if(1===e)n.push(t);else for(var r=0;r<e;r++)n.push("".concat(t," ").concat(r+1," / ").concat(e));return n},ye=function(e){var t=Object(s.useState)({devideData:[],devideLabels:[]}),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null),c=Object(s.useRef)(null),o=F()[0],l=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(o.sensors.length>0){for(var t=0;t<o.types.length;t++)if("2"===o.types[t].id){i.current=o.types[t].icon,c.current=o.types[t].tooltip;break}var n=o.sensors.filter((function(e){return"2"===e.typeId})),r=[],s=[];if(n.length>e.previewIndex&&0!==n[e.previewIndex].metrics.length){var u=je(n[e.previewIndex].metrics,e.maxEntities),p=be(u.length,n[e.previewIndex].title);r.push.apply(r,Object(B.a)(u)),s.push.apply(s,Object(B.a)(p))}else if(void 0!==n&&e.previewGroup){var d=n.filter((function(t){return t.group===e.previewGroup}));if(void 0===d||void 0===d[0])return;l.current=d[0].groupName;for(var m=0;m<d.length&&0!==d[m].metrics.length;m++){var f=je(d[m].metrics,e.maxEntities),j=be(f.length,d[m].title);r.push.apply(r,Object(B.a)(f)),s.push.apply(s,Object(B.a)(j))}}else if(void 0!==n&&!e.previewIndex)for(var b=0;b<n.length&&0!==n[b].metrics.length;b++){var y=je(n[b].metrics,e.maxEntities),h=be(y.length,n[b].title);r.push.apply(r,Object(B.a)(y)),s.push.apply(s,Object(B.a)(h))}a({devideData:r,devideLabels:s})}}),[o.sensors]),Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(U,{icon:i.current,title:"\u03a3\u03a5\u039d\u0391\u0398\u03a1\u039f\u0399\u03a3\u0397 \u039a\u039f\u0399\u039d\u039f\u03a5",link:"/map",id:"2",infoContext:c.current,element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}})}),l.current&&Object(y.jsx)("p",{style:{textAlign:"center",margin:"10px 0 5px"},children:Object(y.jsx)("strong",{children:l.current})}),r.devideData.length>0&&Object(y.jsx)(te,{children:r.devideData.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsxs)(G,{children:[!l.current&&Object(y.jsx)("strong",{children:r.devideLabels[t]}),l.current&&Object(y.jsx)("span",{children:r.devideLabels[t]})]}),e.map((function(e,t){return Object(y.jsx)(q,{icon:e.icon_large,content:e.content,value:e.value},t)}))]},t)}))}),0===r.devideData.length&&Object(y.jsx)(de,{})]})},he=(n(205),function(e){var t=[];return t=e.length>0?e.filter((function(e){return e.icon_large&&1===e.valid})):e,console.log(t),t}),ge=function(e){var t=Object(s.useState)({devideData:[],devideLabels:[]}),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null),c=Object(s.useRef)(null),o=Object(s.useRef)(null),l=F()[0];return Object(s.useEffect)((function(){if(l.sensors.length>0){for(var t=0;t<l.types.length;t++)if(l.types[t].id===e.typeId){i.current=l.types[t].icon,o.current=l.types[t].tooltip;break}var n=l.sensors.filter((function(t){return t.typeId===e.typeId})),r=[],s=[];if(void 0!==n&&n.length>e.previewIndex&&0!==n[e.previewIndex].metrics.length){var u=he(n[e.previewIndex].metrics);c.current=n[e.previewIndex].boxTitle;var p=je(u,e.showSubTitle?e.maxEntities:e.maxEntities+1),d=be(p.length,u.title);r.push.apply(r,Object(B.a)(p)),s.push.apply(s,Object(B.a)(d))}else if(void 0!==n&&!e.previewIndex)for(var m=0;m<n.length&&0!==n[m].metrics.length;m++){var f=he(n[m].metrics),j=je(f,e.showSubTitle?e.maxEntities:e.maxEntities+1),b=be(j.length,n[m].title);r.push.apply(r,Object(B.a)(j)),s.push.apply(s,Object(B.a)(b))}a({devideData:r,devideLabels:s})}}),[l.sensors]),Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(U,{icon:i.current,title:e.title,link:"/map?type=".concat(e.typeId),infoContext:o.current,element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),Object(y.jsx)("p",{style:{fontSize:"14px",textAlign:"center",paddingTop:"5px"},children:Object(y.jsx)("strong",{children:c.current})}),r.devideData.length>0&&Object(y.jsx)(te,{children:r.devideData.map((function(t,n){return Object(y.jsxs)("div",{children:[e.showSubTitle&&Object(y.jsx)(G,{children:r.devideLabels[n]}),t.map((function(e,t){return Object(y.jsx)(q,{icon:e.icon_large,content:e.content,value:e.value},t)}))]},n)}))}),0===r.devideData.length&&Object(y.jsx)(de,{})]})},_e=n(162),xe=(n(206),function(e){return Object(y.jsxs)(s.Fragment,{children:[e.data&&Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(U,{icon:"im im-icon-Envelope-2",title:e.data.index_name,styleIcon:"5"===e.typeId&&{color:"black"},link:"/map?type=".concat(e.typeId),infoContext:e.data&&e.data.tooltip,element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),Object(y.jsx)(G,{style:"5"===e.typeId?{color:"white"}:{},children:Object(y.jsxs)("strong",{children:[e.data.details[0].measurement&&Object(y.jsxs)("span",{children:["\u03a4\u03b9\u03bc\u03ae \u03b4\u03b5\u03af\u03ba\u03c4\u03b7: ",parseFloat(e.data.details[0].measurement),"\xa0|\xa0"]}),e.data.details[0].index_title]})}),Object(y.jsx)("p",{style:{fontSize:"14px",lineHeight:"1.5em"},children:e.data.details[0].index_description})]}),!e.data&&Object(y.jsx)(de,{})]})}),Oe=n(33),ve=n.n(Oe),Te=function(){var e=(new AbortController).signal,t=Object(s.useState)(null),n=Object(T.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){(function(){var t=Object(m.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=forecast",{signal:e}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(n=t.sent)&&n.ok){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.json();case 7:r=t.sent,a(r[0]),console.log(r[0]);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(U,{className:ve.a.weatherTitle,title:"\u039a\u0391\u0399\u03a1\u039f\u03a3",infoContext:r&&r.tooltip,element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",color:"black",cursor:"pointer"}})}),r&&Object(y.jsxs)("div",{className:ve.a.weatherGridContainer,children:[Object(y.jsxs)("div",{className:ve.a.squareBox,children:[Object(y.jsx)("img",{src:"https://drama.smartiscity.gr/"+r.curr_icon,alt:"weather_icon_totday",width:"75px"}),Object(y.jsx)("p",{className:ve.a.descriptionContent,children:r.curr_description})]}),Object(y.jsxs)("div",{className:ve.a.squareBox,children:[Object(y.jsxs)("p",{className:ve.a.tempBox,children:[r.curr_val," ",Object(y.jsx)("sup",{children:"o"}),"C"]}),Object(y.jsx)("p",{className:ve.a.descriptionContent,children:r.curr_title})]}),Object(y.jsxs)("div",{className:ve.a.squareBox,children:[Object(y.jsx)("img",{src:"https://drama.smartiscity.gr/"+r.next_icon,alt:"weather_icon_tommorw",width:"75px"}),Object(y.jsx)("p",{className:ve.a.descriptionContent,children:r.next_description})]}),Object(y.jsxs)("div",{className:ve.a.squareBox,children:[Object(y.jsxs)("p",{className:ve.a.tempBox,children:[r.next_val," ",Object(y.jsx)("sup",{children:"o"}),"C"]}),Object(y.jsx)("p",{className:ve.a.descriptionContent,children:r.next_title})]})]}),!r&&Object(y.jsx)(de,{})]})},we=n(37),Se=n(74),Ae=n.n(Se),Ne=[{elementType:"geometry",stylers:[{color:"#cb6de9"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Ce=[{elementType:"geometry",stylers:[{color:"#ff8700"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],ke=[{elementType:"geometry",stylers:[{color:"#065dfb"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Ie=[{elementType:"geometry",stylers:[{color:"#179d00"}]},{elementType:"geometry.fill",stylers:[{color:"#179D00"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Ee=[{elementType:"geometry.fill",stylers:[{color:"#ff006e"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"},{saturation:35},{lightness:40}]},{elementType:"labels.text.stroke",stylers:[{color:"#000000"},{weight:8}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#ff006e"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffee00"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:17},{weight:"10.00"}]}],Fe=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#161a20"},{weight:2.5}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#a1a1a1"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#161a20"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"road.arterial",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#686868"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#161a20"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#161a20"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#161a20"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#bfbfbf"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#2f343c"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],Re=n.p+"static/media/purple_mark_icon.52908a98.svg",De={lat:39.7522521,lng:20.6501971},Be=function(e){var t=Object(we.e)({googleMapsApiKey:"AIzaSyDQlCnn8F1D0S9ymnWZwc_WFx2ZS6g8w1Q"}).isLoaded,n=Object(s.useState)(null),r=Object(T.a)(n,2),a=(r[0],r[1]),i=Object(s.useState)([]),c=Object(T.a)(i,2),o=c[0],l=c[1],u=Object(s.useState)(null),p=Object(T.a)(u,2),d=p[0],m=p[1],f=F()[0],j=Object(s.useRef)(null),b=Object(s.useRef)(null),h=Object(s.useRef)(De);Object(s.useEffect)((function(){if(f.types.length>0)for(var t=0;t<f.types.length;t++)if(f.types[t].id===e.typeId){j.current=f.types[t];break}}),[f.types]),Object(s.useEffect)((function(){if(f.types.length>0){for(var t=f.sensors.filter((function(t){return t.typeId===e.typeId})),n=0;n<t.length;n++)if(t[n].position){h.current=t[n].position;break}l(t)}}),[f.types,f.sensors]),Object(s.useEffect)((function(){"7"===e.typeId?b.current=Ne:"8"===e.typeId?b.current=Ce:"4"===e.typeId?b.current=Ee:"9"===e.typeId?b.current=Ie:"10"===e.typeId?b.current=ke:b.current=Ne}),[]);var g=Object(s.useCallback)((function(e){a(e)}),[]),_=Object(s.useCallback)((function(e){a(e)}),[]);return Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(U,{className:Ae.a.map_title_style,icon:j.current&&j.current.icon,title:e.title,infoContext:j.current&&j.current.tooltip,link:"/map?type=".concat(e.typeId),element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",cursor:"pointer"}}),id:e.typeId}),t&&Object(y.jsx)("div",{className:Ae.a.wrapper,children:Object(y.jsxs)(we.a,{center:h.current,zoom:12,onLoad:g,onUnmount:_,options:{styles:b.current,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1},children:[Object(y.jsx)(s.Fragment,{children:o.map((function(e){return Object(y.jsx)(we.c,{position:e.position,animation:4,clickable:!0,icon:e.smallMarker?e.smallMarker:Re,onClick:function(){m(e.id)},children:d&&e.id===d&&Object(y.jsx)(we.b,{children:Object(y.jsx)("p",{children:e.title})})},e.id)}))}),Object(y.jsx)(y.Fragment,{})]})}),!t&&Object(y.jsx)(me,{})]})},Pe=(n(114),n.p,n.p,n.p,n.p,n.p,function(){return Object(y.jsx)(s.Fragment,{children:Object(y.jsx)(U,{className:Ae.a.map_title_style,icon:"im im-icon-Eye-Visible",title:"\u0395\u03a0\u039f\u03a0\u03a4\u0395\u0399\u0391",infoContext:"\u03a3\u03c5\u03b3\u03ba\u03b5\u03bd\u03c4\u03c1\u03c9\u03c4\u03b9\u03ba\u03ae \u03b1\u03c0\u03b5\u03b9\u03ba\u03cc\u03bd\u03b9\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03c3\u03c5\u03bd\u03cc\u03bb\u03bf\u03c5 \u03c4\u03c9\u03bd \u03c5\u03c0\u03bf\u03c3\u03c5\u03c3\u03c4\u03b7\u03bc\u03ac\u03c4\u03c9\u03bd \u03c0\u03bf\u03c5 \u03b4\u03b9\u03b1\u03b8\u03ad\u03c4\u03b5\u03b9 \u03bf \u0394\u03ae\u03bc\u03bf\u03c2.",link:"/frame?id=6",element:Object(y.jsx)("i",{id:"draggable",className:"im im-icon-Double-Tap",style:{fontSize:"32px",minWidth:"32px",color:"black",cursor:"pointer"}})})})}),Le={dragSortHeuristics:{sortInterval:0},layoutDuration:400,dragRelease:{duration:400,easing:"ease-out"},dragEnabled:!0,dragStartPredicate:function(e,t){return!!t.target.matches("#draggable")},dragContainer:document.body,dragPlaceholder:{enabled:!0,createElement:function(e){return e.getElement().cloneNode(!0)}}};var Ve=function(){var e=Object(s.useState)([]),t=Object(T.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)({search:"",value:"\u039f\u039b\u0391"}),i=Object(T.a)(a,2),c=i[0],o=(i[1],(new AbortController).signal);Object(s.useEffect)((function(){(function(){var e=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=indexes",{signal:o}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(t=e.sent)&&t.ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json();case 7:n=e.sent,r(n),console.log(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l,p,f=(l=c.value,p=c.search,Object(s.useCallback)((function(e){var t=!p||e.title.toLowerCase().indexOf(p)>-1,n="\u039f\u039b\u0391"===l||e.title===l;return t&&n}),[l,p]));return Object(y.jsx)("div",{className:S.a.box_placeholder,children:Object(y.jsxs)(_e.a,Object(u.a)(Object(u.a)({},Le),{},{propsToData:function(e){return{color:e.color,title:e.title}},filter:f,children:[Object(y.jsx)(D,{className:S.a.large,typeId:"1",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(y.jsx)(ge,{maxEntities:9,typeId:"1",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391 \u0394\u0395\u0394\u039f\u039c\u0395\u039d\u0391",showSubTitle:!0})}),Object(y.jsx)(D,{className:S.a.large,typeId:"5",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(y.jsx)(ge,{maxEntities:9,typeId:"5",title:"\u039c\u0395\u03a4\u0395\u03a9\u03a1\u039f\u039b\u039f\u0393\u0399\u039a\u0391 \u0394\u0395\u0394\u039f\u039c\u0395\u039d\u0391",showSubTitle:!1})}),Object(y.jsx)(D,{className:S.a.large,typeId:"6",title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(y.jsx)(ge,{maxEntities:9,typeId:"6",title:"\u03a0\u039f\u0399\u039f\u03a4\u0397\u03a4\u0391 \u03a5\u0394\u0391\u03a4\u03a9\u039d",showSubTitle:!0})}),Object(y.jsx)(D,{className:S.a.map_box,typeId:"4",children:Object(y.jsx)(Be,{typeId:"4",title:"WIFI HOTSPOTS"})}),Object(y.jsx)(D,{className:S.a.medium,typeId:"2",children:Object(y.jsx)(ye,{maxEntities:2,previewGroup:"1"})}),Object(y.jsx)(D,{className:S.a.medium,typeId:"2",children:Object(y.jsx)(ye,{maxEntities:2,previewGroup:"2"})}),Object(y.jsx)(D,{className:S.a.medium,typeId:"2",children:Object(y.jsx)(ye,{maxEntities:2,previewGroup:"3"})}),Object(y.jsx)(D,{className:[S.a.medium,S.a.uv_style].join(" "),typeId:"5",children:Object(y.jsx)(xe,{data:n[0],typeId:"5"})}),Object(y.jsx)(D,{className:[S.a.medium,S.a.uv_style].join(" "),typeId:"5",children:Object(y.jsx)(xe,{data:n[1],typeId:"5"})}),Object(y.jsx)(D,{className:S.a.medium,typeId:"1",children:Object(y.jsx)(xe,{data:n[3],typeId:"1"})}),Object(y.jsx)(D,{className:[S.a.medium,S.a.uv_style].join(" "),typeId:"5",children:Object(y.jsx)(xe,{data:n[2],typeId:"5"})}),Object(y.jsx)(D,{className:[S.a.medium,S.a.weatherBox].join(" "),title:"\u03a0\u0395\u03a1\u0399\u0392\u0391\u039b\u039b\u039f\u039d\u03a4\u0399\u039a\u0391",children:Object(y.jsx)(Te,{})}),Object(y.jsx)(D,{className:[S.a.medium,S.a.epopBox].join(" "),children:Object(y.jsx)(Pe,{})})]}))})},ze=n(67),He=n.n(ze),Me=function(e){var t=Object(s.useState)(!("open"in e)||e.open),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useRef)(null);return Object(y.jsxs)("div",{className:r?[He.a.horizontal_side_panel,He.a.side_panel_width,e.className].join(" "):[He.a.horizontal_side_panel,e.className].join(" "),ref:i,children:[Object(y.jsx)("button",{className:He.a.expand_button,type:"button",onClick:function(){return a((function(e){return!e}))},children:r?Object(y.jsx)(y.Fragment,{children:"\u276e"}):Object(y.jsx)(y.Fragment,{children:"\u276f"})}),Object(y.jsx)("div",{className:He.a.content_panel,children:e.children})]})},Ue=n(26),Qe=n.n(Ue),We=n(115),Ge=n.n(We),Ze=function(e){return Object(y.jsx)("div",{className:Ge.a.input,children:Object(y.jsx)("input",{placeholder:e.inputPlaceHolder,className:e.className,type:e.type,onChange:function(t){return e.setSearch(t.target.value)}})})},Ke=n(362),qe=n(364),Ye=n(356),Xe=n(359),Je=n(367),$e=n(360),et=n(366),tt=n(109),nt=n.n(tt),rt=Object(Ye.a)((function(e){return{root:{display:"flex",padding:"8px 0"},formControl:{margin:e.spacing(3),marginRight:"12px",marginLeft:"12px"}}})),at=function(e){var t=rt(),n=Object(s.useState)([]),r=Object(T.a)(n,2),a=r[0],i=r[1],c=Object(s.useState)([]),o=Object(T.a)(c,2),l=o[0],u=o[1];return Object(s.useEffect)((function(){e.subsystems.length>0&&(e.subsystems.length>5&&e.subsystems.length<=10?(i(e.subsystems.slice(0,5)),u(e.subsystems.slice(5,e.subsystems.length))):Math.ceil(e.subsystems.length/2)>5?(i(e.subsystems.slice(0,Math.ceil(e.subsystems.length/2))),u(e.subsystems.slice(Math.ceil(e.subsystems.length/2),e.subsystems.length))):i(e.subsystems))}),[e.subsystems]),Object(y.jsxs)("div",{className:t.root,children:[Object(y.jsxs)(Je.a,{component:"fieldset",className:t.formControl,children:[Object(y.jsx)(Xe.a,{component:"legend",style:{marginBottom:"5px",padding:"0 16px"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"}),Object(y.jsx)($e.a,{children:a.map((function(t,n){return Object(y.jsx)(et.a,{onClick:function(){return e.setOption(t.id)},children:t.name},n)}))})]}),l.length>0&&Object(y.jsxs)(Je.a,{component:"fieldset",className:t.formControl,children:[Object(y.jsx)(Xe.a,{component:"legend",style:{visibility:"hidden",marginBottom:"5px"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"}),Object(y.jsx)($e.a,{children:l.map((function(t,n){return Object(y.jsx)(et.a,{onClick:function(){return e.setOption(t.id)},children:t.name},n+a.length)}))})]})]})},st=n(363),it=n(368),ct=n(361),ot=n(365),lt=Object(Ye.a)((function(e){return{root:{display:"flex",paddingTop:"8px"},formControl:{margin:e.spacing(3)}}})),ut=function(e){var t=lt(),n=Object(s.useState)([]),r=Object(T.a)(n,2),a=r[0],i=r[1],c=Object(s.useState)(!1),o=Object(T.a)(c,2),l=o[0],u=o[1];Object(s.useEffect)((function(){if(e.filtersVars.length>0){var t=e.varsList.map((function(t){return{var:t,isActive:!!e.filtersVars.includes(t)}}));i(t),u(!0)}else{var n=e.varsList.map((function(e){return{var:e,isActive:!1}}));i(n),u(!1)}}),[e.filtersVars]);var p=function(t){console.log(t.target.value),e.setVars(a[t.target.value].var)};return Object(y.jsxs)(s.Fragment,{children:[Object(y.jsxs)("div",{className:t.root,children:[Object(y.jsxs)(Je.a,{component:"fieldset",className:t.formControl,children:[Object(y.jsx)(Xe.a,{component:"legend",children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03bc\u03b5\u03c4\u03b1\u03b2\u03bb\u03ae\u03c4\u03b5\u03c2"}),Object(y.jsx)($e.a,{children:a.slice(0,Math.ceil(a.length/2)).map((function(e,t){return Object(y.jsx)(it.a,{control:Object(y.jsx)(ot.a,{checked:e.isActive,onChange:p,name:e.var,value:t}),label:e.var},t)}))})]}),Object(y.jsxs)(Je.a,{component:"fieldset",className:t.formControl,children:[Object(y.jsx)(Xe.a,{component:"legend",style:{visibility:"hidden"},children:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03bc\u03b5\u03c4\u03b1\u03b2\u03bb\u03ae\u03c4\u03b5\u03c2"}),Object(y.jsxs)($e.a,{children:[a.slice(Math.ceil(a.length/2),a.length).map((function(e,t){return Object(y.jsx)(it.a,{control:Object(y.jsx)(ot.a,{checked:e.isActive,onChange:p,name:e.var,value:t+parseInt(Math.ceil(a.length/2))}),label:e.var},t)})),Object(y.jsx)(ct.a,{children:"\u0391\u03c0\u03cc \u03c4\u03bf \u03c5\u03c0\u03ac\u03c1\u03c7\u03c9\u03bd \u03c5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1"})]})]})]}),Object(y.jsxs)("div",{className:nt.a.btns_action,children:[l&&Object(y.jsx)(Ke.a,{variant:"contained",color:"secondary",onClick:function(){e.clearVars()},style:{margin:"5px",width:"111.25px"},children:"\u0391\u03c0\u03b1\u03bb\u03bf\u03b9\u03c6\u03ae"}),Object(y.jsx)(Ke.a,{variant:"contained",color:"secondary",onClick:e.close,style:{margin:"5px",width:"111.25px"},children:"\u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae"})]})]})},pt=n(157),dt=n.n(pt),mt=n(43),ft=n.n(mt),jt=n(118),bt={labels:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],datasets:[{label:"",data:[],fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},yt={responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},ht=function(e){var t=Object(s.useState)(null),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),c=Object(T.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(bt),d=Object(T.a)(p,2),m=d[0],f=d[1];return Object(s.useEffect)((function(){if(e.data&&e.data.details.length>0){for(var t=0,n=0,r=1;r<e.data.details.length;r++)new Date(e.data.details[r].date_insert)<=new Date(e.data.details[t].date_insert)&&(t=r),new Date(e.data.details[r].date_insert)>=new Date(e.data.details[n].date_insert)&&(n=r);if(a(e.data.details[t].datetime),l(e.data.details[n].datetime),console.log(e.type),!("datetime"in e.data.details[0]))return;if(e.type<=2){var s=e.data.details.map((function(e){var t=e.datetime.split(" ")[1].split(":");return{x:t[0]+":"+t[1],y:e.val}}));f((function(t){return Object(u.a)(Object(u.a)({},t),{},{datasets:[Object(u.a)(Object(u.a)({},t.datasets[0]),{},{data:s,label:e.data.description})]})}))}else{var i=e.data.details.map((function(e){var t=e.datetime.split("/");return{x:t[0]+"/"+t[1],y:e.val}})),c=i.map((function(e){return e.x}));f((function(t){return Object(u.a)(Object(u.a)({},t),{},{datasets:[Object(u.a)(Object(u.a)({},t.datasets[0]),{},{data:i,label:e.data.description})],labels:c})}))}}}),[e.data]),Object(y.jsxs)("section",{className:ft.a.graph,children:[Object(y.jsx)("h4",{className:ft.a.graph_title,children:e.data.description}),Object(y.jsxs)("div",{className:ft.a.labels,children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("h1",{className:ft.a.space_bottom,children:"\u0395\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03a4\u03b9\u03bc\u03ae"}),Object(y.jsxs)("h4",{children:[e.data.dec?parseFloat(e.data.min).toFixed(e.data.dec):e.data.min,e.data.unit&&" "+e.data.unit]})]}),Object(y.jsxs)("span",{children:[Object(y.jsx)("h1",{className:ft.a.space_bottom,children:"\u039c\u03ad\u03c3\u03bf\u03c2 \u038c\u03c1\u03bf\u03c2"}),Object(y.jsxs)("h4",{children:[e.data.dec?parseFloat(e.data.avg).toFixed(e.data.dec):e.data.avg,e.data.unit&&" "+e.data.unit]})]}),Object(y.jsxs)("span",{children:[Object(y.jsx)("h1",{className:ft.a.space_bottom,children:"\u039c\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03a4\u03b9\u03bc\u03ae"}),Object(y.jsxs)("h4",{children:[e.data.dec?parseFloat(e.data.max).toFixed(e.data.dec):e.data.max,e.data.unit&&" "+e.data.unit]})]})]}),e.type<=2&&Object(y.jsx)(jt.b,{data:m,options:Object(u.a)(Object(u.a)({},yt),{},{plugins:{tooltip:{callbacks:{label:function(t){return e.data.unit?" "+t.raw.y+" "+e.data.unit:" "+t.raw.y}}}}}),className:ft.a.graph_line}),e.type>2&&Object(y.jsx)(jt.a,{data:m,options:Object(u.a)(Object(u.a)({},yt),{},{plugins:{tooltip:{callbacks:{label:function(t){return e.data.unit?" "+t.raw.y+" "+e.data.unit:" "+t.raw.y}}}}}),className:ft.a.graph_line}),Object(y.jsxs)("div",{className:ft.a.period,children:[Object(y.jsx)("i",{children:r})," \xa0 - \xa0 ",Object(y.jsx)("i",{children:o})]})]})},gt=function(e){return Object(y.jsx)("div",{className:dt.a.graphs_container,children:e.stats.filter((function(t){return e.searchInput?t.description.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().includes(e.searchInput.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase())?t:void 0:t})).filter((function(t){if(0===e.filtersVars.length)return t;for(var n=!1,r=0;r<e.filtersVars.length;r++)if(t.description===e.filtersVars[r]){n=!0;break}return n?t:void 0})).map((function(t){return Object(y.jsx)(ht,{data:t,type:e.type})}))})},_t=[{name:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",id:1},{name:"\u03a7\u03b8\u03ad\u03c2",id:2},{name:"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b5\u03c2 7 \u03bc\u03ad\u03c1\u03b5\u03c2",id:3},{name:"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b5\u03c2 30 \u03bc\u03ad\u03c1\u03b5\u03c2",id:4}],xt=function(e){var t=Object(s.useState)(null),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),c=Object(T.a)(i,2),o=c[0],l=c[1],p=Object(s.useState)(null),f=Object(T.a)(p,2),j=f[0],b=f[1],h=Object(s.useState)(null),g=Object(T.a)(h,2),_=g[0],x=g[1],O=Object(s.useState)(null),v=Object(T.a)(O,2),w=v[0],S=v[1],A=Object(s.useState)(""),N=Object(T.a)(A,2),C=N[0],k=N[1],I=Object(s.useState)({id:2,name:_t[parseInt("2")-1].name}),E=Object(T.a)(I,2),R=E[0],D=E[1],B=Object(s.useState)(!1),P=Object(T.a)(B,2),L=P[0],V=P[1],z=Object(s.useState)([]),H=Object(T.a)(z,2),M=H[0],U=H[1],Q=Object(s.useState)(""),W=Object(T.a)(Q,2),G=W[0],Z=(W[1],Object(s.useState)([])),K=Object(T.a)(Z,2),q=K[0],Y=K[1],X=Object(s.useState)([]),J=Object(T.a)(X,2),$=J[0],ee=J[1],te=Object(s.useRef)(null),ne=F(),re=Object(T.a)(ne,2),ae=re[0],se=re[1],ie=new AbortController,ce=ie.signal;Object(s.useEffect)((function(){if(ae.types.length>0&&ae.sensors.length>0){for(var e=-1,t=0;t<ae.types.length;t++)if(ae.types[t].isActive){e=ae.types[t].id;break}if(-1===e||"4"===e)return void se("CLICKED_TYPE","5");if(ae.sensors===te.current&&(w===e||-1===e))return;S(e),te.current=ae.sensors.length;var n=ae.sensors.filter((function(t){return t.typeId===e})),r=[];if(n.length>0&&"9"!==n[0].typeId)for(var a=0;a<n.length;a++)for(var s=0;s<n[a].metrics.length&&(r.includes(n[a].metrics[s].content)||r.push(n[a].metrics[s].content),"8"!==n[a].typeId);s++);ee(r)}}),[ae.types,ae.sensors]),Object(s.useEffect)((function(){return w&&-1!==w&&oe(),function(){return ie.abort()}}),[w,C,R]);var oe=function(){var e=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(w,C,R),V(!0),e.next=4,fetch("https://drama.smartiscity.gr/api/api.php?func=stats&category=".concat(w,"&sensor=").concat(C,"&period=").concat(R.id),{signal:ce}).catch((function(e){return console.warn(e)}));case 4:if(void 0!==(t=e.sent)&&t.ok){e.next=8;break}return V(!1),e.abrupt("return");case 8:return e.next=10,t.json();case 10:n=e.sent,console.log(n),U(n),V(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){a(null),l(null),b(null),x(null)},ue=function(){Y([])};return console.log(R.name),Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)("div",{className:Qe.a.subsystem_container,children:Object(y.jsxs)("div",{className:Qe.a.search_subsystem_layout,children:[Object(y.jsx)("h2",{style:{textAlign:"center",marginBottom:"10px"},children:"\u0393\u03c1\u03b1\u03c6\u03ae\u03bc\u03b1\u03c4\u03b1 \u0394\u03b5\u03b4\u03bf\u03bc\u03ad\u03bd\u03c9\u03bd \u03a5\u03c0\u03bf\u03c3\u03c5\u03c3\u03c4\u03b7\u03bc\u03ac\u03c4\u03c9\u03bd"}),Object(y.jsxs)("div",{className:Qe.a.select_place,children:[Object(y.jsxs)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",style:{textTransform:"none"},onClick:function(e){a(e.currentTarget)},children:["\u03a5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1\xa0",Object(y.jsx)("span",{className:r?[Qe.a.rotate,Qe.a.animation].join(" "):Qe.a.rotate,children:"\u203a"})]}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(r),anchorEl:r,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(at,{subsystems:ae.types.filter((function(e){return"4"!==e.id})),setOption:function(e){console.log(e),a(null),w!==e&&(se("CLICKED_TYPE",e),se("DISABLE_SENSORS"),S(e),k(""),ue())}})}),Object(y.jsxs)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",style:{textTransform:"none"},onClick:function(e){x(e.currentTarget)},children:["\u0391\u03b9\u03c3\u03b8\u03b7\u03c4\u03ae\u03c1\u03b1\xa0",Object(y.jsx)("span",{className:_?[Qe.a.rotate,Qe.a.animation].join(" "):Qe.a.rotate,children:"\u203a"})]}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(_),anchorEl:_,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(at,{subsystems:ae.sensors.filter((function(e){return e.typeId===w})).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:e.title})})),setOption:function(e){console.log(e),x(null),C!==e&&k(e)}})}),Object(y.jsx)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(y.jsxs)(st.a,{badgeContent:q.length,max:999,color:"secondary",style:{textTransform:"none"},children:["\u039c\u03b5\u03c4\u03b1\u03b2\u03bb\u03b7\u03c4\u03ae\xa0",Object(y.jsx)("span",{className:o?[Qe.a.rotate,Qe.a.animation].join(" "):Qe.a.rotate,children:"\u203a"})]})}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(o),anchorEl:o,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(ut,{varsList:$,setVars:function(e){q.includes(e)?Y((function(t){return t.filter((function(t){return t!==e}))})):Y((function(t){return t.concat(e)}))},filtersVars:q,close:le,clearVars:ue,type:w})}),Object(y.jsxs)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",style:{textTransform:"none"},onClick:function(e){b(e.currentTarget)},children:[R.name,"\xa0",Object(y.jsx)("span",{className:r?[Qe.a.rotate,Qe.a.animation].join(" "):Qe.a.rotate,children:"\u203a"})]}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(j),anchorEl:j,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(at,{subsystems:_t,setOption:function(e){console.log(e),b(null),R.id!==e&&D({id:e,name:_t[parseInt(e)-1].name})}})})]})]})}),!L&&Object(y.jsx)(gt,{stats:M,type:R.id,searchInput:G,filtersVars:q}),L&&Object(y.jsx)(fe,{})]})},Ot=function(){return Object(y.jsxs)("div",{className:_.a.home_container,children:[Object(y.jsx)(Me,{open:!1,className:_.a.horizontal_side_panel_fs,children:Object(y.jsx)(xt,{})}),Object(y.jsx)(v,{municipality:"\u0394\u03c1\u03ac\u03bc\u03b1\u03c2"}),Object(y.jsx)(Ve,{})]})},vt=n(116),Tt=n.n(vt),wt=function(){return Object(y.jsx)("div",{className:Tt.a.footer,children:Object(y.jsx)("p",{className:Tt.a.copyright,children:"\xa92019 - 2021 Dotsoft"})})},St=(n(312),n(117)),At=n.n(St),Nt=n(68),Ct=n.n(Nt),kt=function(e){return Object(y.jsxs)("div",{className:e.show?[Ct.a.vertical_side_panel,Ct.a.side_panel_height,e.className].join(" "):[Ct.a.vertical_side_panel,e.className].join(" "),children:[Object(y.jsx)("span",{onClick:function(){return e.close()},className:Ct.a.close_button_sticky,children:Object(y.jsx)("p",{className:Ct.a.close_button,children:"x"})}),e.children]})},It=(n(313),n(38)),Et=n.n(It),Ft=function(e){var t=Object(s.useState)(null),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),c=Object(T.a)(i,2),o=c[0],l=c[1],u=Object(s.useState)([]),p=Object(T.a)(u,2),d=p[0],m=p[1],j=Object(s.useRef)(""),b=Object(s.useRef)(""),h=Object(s.useRef)(null),g=Object(s.useRef)(null),_=F(),x=Object(T.a)(_,2),O=x[0],v=x[1];console.log(O);var w=Object(f.g)().search,S=Object(f.g)().pathname,A=Object(f.f)();Object(s.useEffect)((function(){g&&console.log(g.current)}),[g]),Object(s.useEffect)((function(){if(O.types.length>0&&O.sensors.length>0){for(var e=-1,t=0;t<O.types.length;t++)if(O.types[t].isActive){e=O.types[t].id;break}var n=new URLSearchParams(w).get("type");if(-1===e&&n)for(var r=0;r<O.types.length;r++)if(O.types[r].id===n){e=n,v("CLICKED_TYPE",n);break}if(O.sensors===h.current&&(b.current===e||-1===e))return;b.current=e,h.current=O.sensors.length;var a=O.sensors.filter((function(t){return t.typeId===e})),s=[];if(a.length>0&&"9"!==a[0].typeId)for(var i=0;i<a.length;i++)for(var c=0;c<a[i].metrics.length&&(s.includes(a[i].metrics[c].content)||s.push(a[i].metrics[c].content),"8"!==a[i].typeId);c++);m(s)}}),[O.types,O.sensors]),console.log(d);var N=function(){a(null),l(null)};return Object(y.jsxs)("div",{className:Et.a.search_subsystem_layout,children:[Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABTDAAAUwwEVcE1CAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAIFQTFRF////AAAAQEBAREREQ0NDQkJCQkJCQ0NDREREQ0NDRUVFRUVFRUVFRUVFREREQ0NDRUVFREREREREQ0NDRERERERERUVFQ0NDRERERUVFREREREREQ0NDRUVFREREQ0NDQ0NDRUVFRERERUVFRERERERERERERERERERERERERERE9RjGDgAAACp0Uk5TAAEMHi4yNjk8UFVZXWBwcnN0dXZ8iI2Qk5iZmpucsbK9yd7j5enu+/3+GP/UjgAAAK1JREFUKM91kFsSgjAQBFcRUcF3BI0aAQNK3/+AfghFLJP5mtrOPjIiIiKJMtYalcivpppeeurW4xqqPE3zCurYeV/TZl+btdRjj6aNBh+16MEnkI3tGQwXKCp3YYXqnSF3QY7pnSV1QYoNgSY0qgwtL0LnLgIffAQiYekP8U13nvzH3t1nL7iMRBJlbFMWc5ENoB0yagtcvWQH3LxkD9y95ACcfECO8PQCWZerD5rwFlV5wNG1AAAAAElFTkSuQmCC",alt:"search icon",className:Et.a.search_style}),Object(y.jsx)(Ze,{inputPlaceHolder:"\u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7",className:Et.a.search_input,type:"search",setSearch:function(t){e.findTypeName(t)}}),Object(y.jsxs)("div",{className:Et.a.select_place,children:[Object(y.jsxs)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",style:{textTransform:"none"},onClick:function(e){a(e.currentTarget)},children:["\u03a5\u03c0\u03bf\u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1\xa0",Object(y.jsx)("span",{className:r?[Et.a.rotate,Et.a.animation].join(" "):Et.a.rotate,children:"\u203a"})]}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(r),anchorEl:r,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(at,{subsystems:O.types,setOption:function(t){console.log(t),a(null),j.current!==t&&(v("CLICKED_TYPE",t),v("DISABLE_SENSORS"),A.push("".concat(S,"?type=").concat(t)),j.current=t,e.close(),e.clearVars())}})}),Object(y.jsx)(Ke.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:Object(y.jsxs)(st.a,{badgeContent:e.filtersVars.length,max:999,color:"secondary",style:{textTransform:"none"},children:["\u039c\u03b5\u03c4\u03b1\u03b2\u03bb\u03b7\u03c4\u03ae\xa0",Object(y.jsx)("span",{className:o?[Et.a.rotate,Et.a.animation].join(" "):Et.a.rotate,children:"\u203a"})]})}),Object(y.jsx)(qe.a,{id:"simple-popover",open:Boolean(o),anchorEl:o,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(y.jsx)(ut,{varsList:d,setVars:e.setVars,filtersVars:e.filtersVars,close:N,clearVars:e.clearVars,type:j.current})})]})]})},Rt=n(48),Dt=n.n(Rt),Bt=n(75),Pt=n.n(Bt),Lt=function(e){return Object(y.jsxs)("div",{className:Pt.a.entity_container,children:[Object(y.jsx)("i",{className:e.icon,style:{fontSize:"20px",float:"left"}}),Object(y.jsxs)("div",{className:Pt.a.information,children:[Object(y.jsx)("span",{className:Pt.a.entity_title,children:e.title}),Object(y.jsx)("p",{className:Pt.a.entity_addres,children:e.address}),e.icons.map((function(e,t){return e&&Object(y.jsx)("img",{src:e,alt:"info icons"},t)}))]})]})},Vt=function(e){var t=Object(s.useState)(""),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(null),c=Object(T.a)(i,2),o=c[0],p=c[1],d=Object(s.useState)([]),m=Object(T.a)(d,2),f=m[0],j=m[1],b=Object(s.useState)([]),h=Object(T.a)(b,2),g=h[0],_=h[1],x=F(),O=Object(T.a)(x,2),v=O[0],w=O[1];Object(s.useEffect)((function(){if(v.types.length>0){var e=v.types.filter((function(e){return e.isActive}));-1!==e.length&&p(e[0])}}),[v.types]),Object(s.useEffect)((function(){if(v.sensors.length>0&&o){for(var e=v.sensors.filter((function(e){return e.typeId===o.id})),t="",n={},r=0;r<e.length;r++)e[r].isActive&&(t=e[r]),n=Object(u.a)(Object(u.a)({},n),{},Object(l.a)({},e[r].id,e[r].metrics.map((function(e){return e.icon_small}))));console.log(v.sensors),console.log(e),j(e),_(n),a(t)}}),[v.sensors,o]);console.log(r);var S=null;return o&&(S=Object(y.jsxs)("div",{className:[Dt.a.subsystem_layout].join(" "),children:[Object(y.jsx)("div",{className:[Dt.a.flexContainer,Dt.a.subsystem_title_style].join(" "),style:{backgroundColor:o.color},children:Object(y.jsx)("p",{className:Dt.a.subsystem_title,children:o.name})}),Object(y.jsx)("div",{className:Dt.a.list_place,children:Object(y.jsx)("ul",{children:f.filter((function(t){return e.filterTypeName?t.title.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().includes(e.filterTypeName.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase())?t:void 0:t})).filter((function(t){if(0===e.filtersVars.length)return t;for(var n=!1,r=0;r<t.metrics.length;r++){for(var a=0;a<e.filtersVars.length;a++)if(t.metrics[r].content===e.filtersVars[a]){n=!0;break}if(n)break}return n?t:void 0})).map((function(t){return Object(y.jsx)("li",{style:{justifyContent:"flex-start"},className:t.id===r.id?[Dt.a.flexContainer,Dt.a.active].join(" "):Dt.a.flexContainer,onClick:function(){!function(t){t!==r?(w("CLICKED_SENSOR",t.id),a(t),e.showAnimation(!0)):e.showAnimation(!1)}(t)},children:Object(y.jsx)(Lt,{icon:o.icon,title:t.title,address:t.address,icons:g[t.id]})},t.id)}))})})]})),S},zt=function(e){var t=Object(s.useState)(""),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),c=Object(T.a)(i,2),o=c[0],l=c[1];return Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(Ft,{close:e.close,findTypeName:a,setVars:function(e){o.includes(e)?l((function(t){return t.filter((function(t){return t!==e}))})):l((function(t){return t.concat(e)}))},filtersVars:o,clearVars:function(){l([])}}),Object(y.jsx)(Vt,{showAnimation:e.showAnimation,filterTypeName:r,filtersVars:o})]})},Ht=n(44),Mt=n.n(Ht),Ut=n(160),Qt=n(64),Wt={settings:{overlayColor:"rgb(104, 104, 104)",autoplaySpeed:1500,transitionSpeed:900},buttons:{backgroundColor:"black",iconColor:"white"},caption:{captionColor:"white",captionFontFamily:"Raleway, sans-serif",captionFontWeight:"300",captionTextTransform:"uppercase"},progressBar:{backgroundColor:"#f2f2f2",fillColor:"#000000",height:"3px",showProgressBar:!0}},Gt=function(){var e=Object(s.useState)({metrics:[],title:""}),t=Object(T.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),i=Object(T.a)(a,2),c=i[0],o=i[1],l=F()[0],u=Object(s.useRef)(null),p=Object(s.useRef)(null),d=Object(s.useRef)(null);Object(s.useEffect)((function(){for(var e=0;e<l.types.length;e++)l.types[e].isActive&&(d.current=l.types[e].icon,p.current={backgroundColor:l.types[e].color,minWidth:"50px",maxWidth:"50px",minHeight:"50px",maxHeight:"50px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px"});if(l.sensors.length>0){o(!0);for(var t=0;t<l.sensors.length;t++)l.sensors[t].isActive&&("7"===l.sensors[t].typeId?(r({historic:{category:l.sensors[t].categoryName,image:l.sensors[t].thumbnail,content:l.sensors[t].content,images:l.sensors[t].images},title:l.sensors[t].title}),u.current="POIS"):(r({metrics:l.sensors[t].metrics,title:l.sensors[t].title}),u.current="Metrics"))}}),[l.sensors]),Object(s.useEffect)((function(){""!==n.title&&o(!1)}),[n]);var m=n.metrics&&n.metrics.filter((function(e){return e.value})).map((function(e,t){return Object(y.jsx)(q,{icon:e.icon_large,content:e.content,value:e.value,className:Mt.a.gradient_border,styleValue:{fontWeight:"400"}},t)})),f=n.historic&&Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(Qt.b,{children:Object(y.jsx)(Qt.a,{options:Wt,children:n.historic.image&&Object(y.jsx)("img",{src:n.historic.image,alt:"thumbnail",width:"100%",style:{cursor:"pointer"}})})}),n.historic.category&&Object(y.jsxs)("p",{style:{fontSize:"14px"},children:["\u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1: ",Object(y.jsx)("i",{children:n.historic.category})]}),n.historic.content&&Object(y.jsx)("div",{style:{marginTop:"20px",textAlign:"justify"},children:Object(Ut.a)(n.historic.content)}),n.historic.images.length>0&&Object(y.jsxs)("div",{className:Mt.a.slider_placeholder,children:[Object(y.jsx)("p",{className:Mt.a.more_photos_descr,children:Object(y.jsx)("i",{children:"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03c6\u03c9\u03c4\u03bf\u03b3\u03c1\u03b1\u03c6\u03b9\u03ba\u03cc \u03c5\u03bb\u03b9\u03ba\u03cc:"})}),Object(y.jsx)(Qt.b,{children:Object(y.jsx)(Qt.a,{options:Wt,children:Object(y.jsx)(te,{settings:{infinite:!1},children:n.historic.images.map((function(e,t){return Object(y.jsx)("div",{className:Mt.a.image_placeholder,children:Object(y.jsx)("img",{src:e,alt:n.title,width:"100%",style:{cursor:"pointer"}})},t)}))})})})]})]});return Object(y.jsxs)("div",{className:Mt.a.info_container,children:[Object(y.jsxs)("div",{className:Mt.a.sticky_title,children:[Object(y.jsx)(U,{icon:d.current,title:n.title,styleIcon:p.current,className:[Mt.a.info_title,Mt.a.height_unset].join(" ")}),Object(y.jsx)("hr",{className:Mt.a.gradient_line_style})]}),!c&&"Metrics"===u.current&&m,!c&&"POIS"===u.current&&f]})},Zt=null,Kt=function(e){var t=Object(s.useState)(!1),n=Object(T.a)(t,2),r=n[0],a=n[1],c=function(){a(!1)},o=function(e){r&&e?(clearTimeout(Zt),a(!1),Zt=setTimeout((function(){return a(!0)}),250)):a(!0)};return Object(s.useEffect)((function(){return function(){return clearTimeout(Zt)}}),[]),console.log(e),Object(y.jsxs)(s.Fragment,{children:[Object(y.jsx)(Me,{children:Object(y.jsx)(zt,{showAnimation:o,close:c})}),Object(y.jsx)(kt,{show:r,close:c,children:Object(y.jsx)(Gt,{})}),Object(y.jsx)("div",{className:e.mapFrame?At.a.wrapper_full:At.a.wrapper,children:i.a.cloneElement(e.children,{showAnimation:o})})]})},qt=(n(328),n.p+"static/media/green_mark_icon.40a6b5f3.svg"),Yt=n.p+"static/media/orange_mark_icon.b486287a.svg",Xt=n.p+"static/media/blue_mark_icon.ae283786.svg",Jt=n.p+"static/media/yellow_mark_icon.5125b8f6.svg",$t=n.p+"static/media/light_blue_mark_icon.ecf0d3f0.svg",en=n.p+"static/media/pin_blue_icon.df743f91.svg",tn={1:qt,2:Yt,3:Xt,4:Re,5:Jt,6:$t,7:en,8:en,9:Re,10:Yt},nn={imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"},rn=0,an=function(e){var t=Object(we.e)({googleMapsApiKey:"AIzaSyDQlCnn8F1D0S9ymnWZwc_WFx2ZS6g8w1Q"}).isLoaded,n=Object(s.useState)(null),r=Object(T.a)(n,2),a=r[0],i=r[1],c=Object(s.useState)(null),o=Object(T.a)(c,2),l=o[0],u=o[1],p=Object(s.useState)([]),d=Object(T.a)(p,2),m=d[0],j=d[1],b=Object(s.useState)(e.cityCenter),h=Object(T.a)(b,2),g=h[0],_=h[1],x=Object(s.useRef)(null),O=F(),v=Object(T.a)(O,2),w=v[0],S=v[1],A=Object(s.useRef)(null),N=Object(s.useRef)(null),C=Object(s.useRef)(12),k=Object(s.useRef)(e.cityCenter),I=Object(s.useRef)(null),E=Object(f.g)(),R=Object(s.useCallback)((function(e){i(e)}),[]),D=Object(s.useCallback)((function(e){i(e)}),[]);Object(s.useEffect)((function(){if(w.types.length>0&&w.sensors.length>0){for(var t=-1,n=0;n<w.types.length;n++)if(w.types[n].isActive){w.types[n].id!==k.current&&(B(e.cityCenter),k.current=w.types[n].id,u(null)),t=w.types[n].id,A.current=tn[w.types[n].id];break}if(-1!==t){for(var r=w.sensors.filter((function(e){return e.typeId===t})),a=0;a<r.length;a++)if(r[a].isActive&&r[a].id!==l){u(r[a].id),B(r[a].position);break}j(r)}}}),[w.types,w.sensors]);var B=function(e){e&&g!==e&&(x.current={lat:(g.lat-e.lat)/5,lng:(g.lng-e.lng)/5},clearInterval(I.current),I.current=setInterval(P,50),rn=5,C.current<12&&(C.current=12))},P=function(){console.log(rn),1===rn&&(clearInterval(I.current),I.current=null),rn-=1,_((function(e){return{lat:e.lat-x.current.lat,lng:e.lng-x.current.lng}}))};return Object(s.useEffect)((function(){console.log(new URLSearchParams(E.search).get("typeId")),"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"===E.pathname&&""!==E.search&&(console.log(new URLSearchParams(E.search).get("typeId")),N.current=new URLSearchParams(E.search).get("typeId"))}),[E]),Object(s.useEffect)((function(){N.current&&w.types.length>0&&(S("CLICKED_TYPE",N.current),N.current=null)}),[w.types]),console.log(m),console.log("Map"),console.log(e),Object(y.jsxs)(s.Fragment,{children:[t&&Object(y.jsxs)(we.a,{center:g,zoom:C.current,onLoad:R,onUnmount:D,onDragEnd:function(){return _(a.getCenter().toJSON())},onZoomChanged:function(){return a&&(C.current=a.getZoom())},options:{styles:Fe},children:[Object(y.jsx)(s.Fragment,{children:Object(y.jsx)(we.d,{options:nn,children:function(t){return m.map((function(n){return Object(y.jsx)(we.c,{position:n.position,animation:4,clickable:!0,clusterer:t,icon:n.id===l?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7gAAAO4BBtayNAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATbSURBVFiFtZdLbBNXFIb/Ox7bcZLyCElKZDkhmSQQkmBSQKoQUpG68KKLCiGRCqlU0FU2RUI8JCQkRDesWFSIIiFoCQhQTJEAAcoiAhaBkoRg14Y4Ho8fsQJpqPPwI/Z4Zu7tilYlM7Fj6Fne+5/zfzr3nqsZwhhDseFwOKosnGU7x2Gr2VyxU6N5JwCYOItXUTKPKcVwnuafxOPxmWJrkmIBWpqavuWI+edPVjhozVpn2ZpPO8xV1W0AgJm/xpD406+8nfLmUsk4R5nSI4bDVz4KQHNzcy1PrJct5oovtn/5o61m7eYl9W+nPHgycCKbVzKPVSZ/FwqFpksGaKmvFziz7Xlj61e2rs9/sPC8bUnzd6GqWbz4/ad8JHgvS5XsFnFiQjLScoZkhHAma2XfRue+im07jhVtDgA8b8O2HccsG537KkzWyj5CiKGP4YbQKBwqr6jd0N61ny/a+b1o79rPl1fUbhAahUNGGt0jaGpqWs8T3uv6+pJ11ZqWUv0BAHMJEf23D8gqU53hcHj8/X3dDpgY2btOcHFLmaeTk5ACdyAF7iCdnDTUrVrTgnWCizMxsldvXxeAN5fvrKnbbDYqGvBd1+6597BYyC3HQm75nnsPC/iua0b6mrrNZt5cvlPXS2+RavmudzP+fky/GcUfw+fI/p5fiN3RaQWAybgPv57/nlRVr0dt3WeLcqqq20C1fJdevUUdEAShnoHZVq5u1AWIhR7k250uzu7o/GfN7uhEu9PFxUIP8no5K1c3goHZBEGoLwjAaZrdal2RM5qchcy0Wmdf3J06exsWMtOqXg4hHKzWFTlO0+wFAajJ9CqbnSmnVNEFqK7dVDY6dGuR0ejQLbW6dlOZXg6lCrLZmXJqMr0qCCBJ0jzPlyXmEqIuQGtHN5dOzbIblw+q4dAzhEPPcOPyQTWdmmWtHd26bZtLiOD5soQkSfMFAQCAUdYXDt7XbYHZUgnXrl6zLPOq+8phxX3lsCLLvOra1Ws2Wyp1ocPB+wqjrE9vT/chamlo2GiyVD7fva+/jOMMp7GooFTBb72unJZPbxFjscJHAABiLPaKEC4YHr/7QeYAEB6/C0K4oJ65IQAAqEr6qHf4vKypuZLNNTUH7/B5WVXSR400hgBiJNLPqDYS8F2jpQIEfNcoo9qIGIn0LxsAAPK5bM9LT68i5xZd3oIh5+bx0tOr5HPZnqV0SwJIcclHCHfT/+KivFwA/4uLMiHcTSku+UoGAICckjkSGrutpVOvizZPp14jNHZbyymZI4W0BQGi0egbMHrm6cOTWaCYD1iGpw9PZsHomWg0+uaDAQDAtpA8PZsYTwX97oLaoN+N2cR4yraQPF1M7aIAvFNTGarJ3Z6hs2pqfsJQl5qfgGforEo1uds7NZX5aAAAIEYijwjhzg0OnJAZWzyZjFEMDpyQCeHOiZHIo2LrFg0AABpRj6aS8ckx79VFl2HMe5WlkvFJjaiGj84HA4iiKFN1Ybdv9IIyN/Pvp/7cjATf6AWFqgu7RVFc1sguCwAAgpGIBwynBgeOZylVQamKwYHjWTCcCkYinuXWK/rf8D9JhHAbmttGWju+6QSAoP+GLxAa28r0Lsf/AQAA6xsamhhv9QMAUeWO8VgsXEqdkgEAQFgnHAAAKSpdKrXG3zstUAni5+k/AAAAAElFTkSuQmCC":n.bigMarker?n.bigMarker:A.current,onClick:function(){l!==n.id?(S("CLICKED_SENSOR",n.id),u(n.id),e.showAnimation(!0)):e.showAnimation(!1)},children:l&&n.id===l&&Object(y.jsx)(we.b,{position:n.position,children:Object(y.jsx)("p",{children:n.title})})},n.id)}))}})}),Object(y.jsx)(y.Fragment,{})]}),!t&&Object(y.jsx)(me,{})]})},sn=i.a.memo(an),cn={lat:41.1480676,lng:24.1250772},on=function(e){return Object(y.jsx)(Kt,{mapFrame:e.mapFrame?e.mapFrame:null,children:Object(y.jsx)(sn,{cityCenter:cn})})},ln=n(161),un=n.n(ln),pn={1:"https://drama.smartiscity.gr/mappreview/index.php",2:"https://drama.smartiscity.gr/mappreview/index.php",3:"https://drama.smartiscity.gr/mappreview/index.php",4:"https://drama.smartiscity.gr/mappreview/index.php",5:"https://drama.smartiscity.gr/mappreview/index.php",6:"https://drama.smartiscity.gr/mappreview/index.php"},dn=function(){var e=Object(f.g)(),t=Object(s.useState)(1),n=Object(T.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(!0),c=Object(T.a)(i,2),o=c[0],l=c[1];return Object(s.useEffect)((function(){var t=new URLSearchParams(e.search).get("id"),n=-1;!isNaN(t)&&parseInt(t)>=0&&parseInt(t)<=6&&(n=parseInt(t)),-1!==n&&a(t),l(!1)}),[e]),Object(y.jsxs)(s.Fragment,{children:[!o&&Object(y.jsx)("iframe",{style:{border:"none"},src:pn[r],title:"Map Alexandroupoli",className:un.a.iframeContainer}),o&&Object(y.jsx)(me,{})]})},mn="https://drama.smartiscity.gr",fn=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("feed types"),e.next=3,fetch(mn+"/api/api.php?func=sensortypes",{signal:t}).catch((function(e){return console.warn(e)}));case 3:if(void 0!==(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,n.json();case 8:return r=e.sent,console.log(r),a=r.map((function(e){var t=null;e.sensortype_icon&&(t=e.sensortype_icon.split("-")[0]+" "+e.sensortype_icon);return{id:e.sensortype_id,name:e.sensortype_name,icon:t,tooltip:e.tooltip,color:e.sensortype_color,isActive:!1}})),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jn=function(){var e=Object(m.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("feed sensors"),e.next=3,fetch(mn+"/api/api.php?func=allsensors",{signal:t}).catch((function(e){return console.warn(e)}));case 3:if(void 0!==(n=e.sent)&&n.ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,n.json();case 8:return r=e.sent,console.log(r),a=r.filter((function(e){return"7"!==e.sensortype_id&&"8"!==e.sensortype_id&&"9"!==e.sensortype_id&&"10"!==e.sensortype_id})).map((function(e){var t=e.sensor_address?e.sensor_address.split(", "):"";return t=t.length>1?t[1]:e.mysensor_name,{id:e.mysensor_id,typeId:e.sensortype_id,boxTitle:t,title:e.mysensor_name,group:e.group,groupName:e.group_name,smallMarker:e.marker,locationId:e.location_id,address:e.sensor_address,color:e.sensortype_color,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},metrics:[],isActive:!1}})),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=function(){var e=F(!1)[1],t=new AbortController,n=t.signal;Object(s.useEffect)((function(){var a=function(){var t=Object(m.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fn(n);case 2:r=t.sent,e("INITIALIZE_TYPES",r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(m.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jn(n);case 2:a=t.sent,e("INITIALIZE_SENSORS",a),r();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a(),s(),function(){return t.abort()}}),[]);var r=function(){a("https://drama.smartiscity.gr/api/api.php?func=envi"),c(),a("https://drama.smartiscity.gr/api/api.php?func=meteo"),a("https://drama.smartiscity.gr/api/api.php?func=waterq"),o(),p(),j(),b()},a=function(){var t=Object(m.a)(d.a.mark((function t(r){var a,s,i,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r,{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(a=t.sent)&&a.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,a.json();case 7:for(s=t.sent,console.log(s),i={},c=function(e){var t=[];s[e].details.map((function(n){var r=0,a="";n.sensorvar_dec&&(r=parseInt(n.sensorvar_dec)),n.sensorvar_unit&&(a=" "+n.sensorvar_unit);var i=parseFloat(n.measurement).toFixed(r)+a;isNaN(n.measurement)&&(i=n.measurement),t.push({parentId:s[e].mysensor_id,content:n.sensorvar_description,value:i,valid:"valid"in n?n.valid:1,icon_small:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Small/"+n.sensorvar_icon,icon_large:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Big/"+n.sensorvar_icon})})),i=Object(u.a)(Object(u.a)({},i),{},Object(l.a)({},s[e].mysensor_id,{metrics:t,tooltip:s[e].tooltip}))},o=0;o<s.length;o++)c(o);e("ADD_METRICS",i),console.log(i);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(m.a)(d.a.mark((function t(){var r,a,s,i,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=mesh",{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:for(a=t.sent,console.log(a),s={},i=function(e){var t=[];a[e].details.map((function(n){t.push({parentId:a[e].mysensor_id,content:n.sensorvar_description,value:n.wfTotal?n.wfTotal:n.btTotal,icon_small:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Small/"+n.sensorvar_icon,icon_large:n.sensorvar_icon&&"https://drama.smartiscity.gr/gallery/vars/Big/"+n.sensorvar_icon})})),s=Object(u.a)(Object(u.a)({},s),{},Object(l.a)({},a[e].mysensor_id,{metrics:t,tooltip:a[e].tooltip?a[e].tooltip:""}))},c=0;c<a.length;c++)i(c);e("ADD_METRICS",s),console.log(s);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(m.a)(d.a.mark((function t(){var r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=pois&lang=el",{signal:n}).catch((function(e){return console.warn(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:a=t.sent,console.log(a),s=[],a.map((function(e){s.push({typeId:"7",id:e.id,categoryId:e.category_id,categoryName:e.category_name,title:e.name,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},address:e.address,smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,thumbnail:e.main_image,images:e.images,content:e.portal_main_info,metrics:[{content:e.category_name}],isActive:!1})})),e("ADD_SENSORS",s),console.log(s);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(m.a)(d.a.mark((function t(){var r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=fleeto",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:a=t.sent,console.log(a),console.log(a),s=[],a.map((function(e){var t=[{content:e.category_name}];e.speed&&t.push({content:"\u03a4\u03b1\u03c7\u03cd\u03c4\u03b7\u03c4\u03b1",value:e.speed+" km/h"}),e.altitude&&t.push({content:"\u03a5\u03c8\u03cc\u03bc\u03b5\u03c4\u03c1\u03bf",value:e.altitude+" \u03bc\u03ad\u03c4\u03c1\u03b1"}),e.angle&&t.push({content:"\u0393\u03c9\u03bd\u03af\u03b1",value:e.angle+" \u03bc\u03bf\u03af\u03c1\u03b5\u03c2"}),s.push({typeId:"8",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:e.category_name,title:e.name,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",s),console.log(s);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(m.a)(d.a.mark((function t(){var r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=bins",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:a=t.sent,console.log(a),console.log(a),s=[],a.map((function(e){var t=[];t.push({content:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03b1\u03b9\u03c3\u03b8\u03b7\u03c4\u03ae\u03c1\u03b1",value:e.mote},{content:"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc \u03c0\u03bb\u03b7\u03c1\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2",value:e.value+"%"},{content:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",value:1===e.status?"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc":"\u0391\u03c0\u03b5\u03bd/\u03bc\u03ad\u03bd\u03bf"}),s.push({typeId:"9",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03b5\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7:"+e.date.split(":")[0]+":"+e.date.split(":")[1],title:e.location,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",s),console.log(s);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(m.a)(d.a.mark((function t(){var r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://drama.smartiscity.gr/api/api.php?func=hydro",{signal:n}).catch((function(e){return console.log(e)}));case 2:if(void 0!==(r=t.sent)&&r.ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,r.json();case 7:a=t.sent,console.log(a),console.log(a),s=[],a.map((function(e){var t=[];t.push({content:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03b1\u03b9\u03c3\u03b8\u03b7\u03c4\u03ae\u03c1\u03b1",value:e.mote},{content:"\u0388\u03bd\u03b4\u03b5\u03b9\u03be\u03b7",value:e.value+"\u03ba.\u03bc."},{content:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",value:1===e.status?"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc":"\u0391\u03c0\u03b5\u03bd/\u03bc\u03ad\u03bd\u03bf"}),s.push({typeId:"10",id:e.id,categoryId:e.category_id,categoryName:e.category_name,address:e.date?"\u03a4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03b5\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7:"+e.date.split(":")[0]+":"+e.date.split(":")[1]:"",title:e.location,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},smallMarker:"https://drama.smartiscity.gr/"+e.category_small_icon,bigMarker:"https://drama.smartiscity.gr/"+e.category_big_icon,metrics:t,isActive:!1})})),e("ADD_SENSORS",s),console.log(s);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=Object(f.g)();return console.log(g),Object(y.jsxs)(i.a.Fragment,{children:["/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"!==g.pathname&&Object(y.jsx)(h,{}),Object(y.jsx)("main",{style:"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"===g.pathname?{marginTop:0,marginBottom:0,height:"100%"}:{},children:Object(y.jsxs)(f.c,{children:[Object(y.jsx)(f.a,{path:"/",component:Ot,exact:!0}),Object(y.jsx)(f.a,{path:"/map",component:on}),Object(y.jsx)(f.a,{path:"/frame",component:dn}),Object(y.jsxs)(f.a,{path:"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451",exact:!0,children:[" ",Object(y.jsx)(on,{mapFrame:!0})," "]})]})}),"/map_frame/36rj0ihiet/uvm5ypescz/mmw1uv8cbk/dolwmo2451"!==g.pathname&&Object(y.jsx)(wt,{})]})},yn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,370)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},hn=(n.p,function(e,t){var n=e.findIndex((function(e){return!0===e.isActive}));return console.log(n),-1!==n&&(e[n]=Object(u.a)(Object(u.a)({},e[n]),{},{isActive:!1})),console.log(t),null!==t&&(e[t]=Object(u.a)(Object(u.a)({},e[t]),{},{isActive:!0})),e}),gn=function(){console.log("Configure"),R({CLICKED_SENSOR:function(e,t){console.log("CLICKED_SENSOR");var n=e.sensors.findIndex((function(e){return e.id===t})),r=Object(B.a)(e.sensors);return{sensors:hn(r,n)}},DISABLE_SENSORS:function(e){console.log("DISABLE_SENSORS");var t=Object(B.a)(e.sensors);return{sensors:hn(t,null)}},ADD_METRICS:function(e,t){for(var n=Object(B.a)(e.sensors),r=0;r<n.length;r++)n[r].id in t&&(n[r]=Object(u.a)(Object(u.a)({},n[r]),{},{metrics:t[n[r].id].metrics,tooltip:t[n[r].id].tooltip}));return{sensors:n}},ADD_SENSORS:function(e,t){return{sensors:[].concat(Object(B.a)(e.sensors),Object(B.a)(t))}},INITIALIZE_SENSORS:function(e,t){return{sensors:t}}},{sensors:[]})};(function(){console.log("Configure"),R({CLICKED_TYPE:function(e,t){var n=e.types.findIndex((function(e){return e.id===t})),r=Object(B.a)(e.types);return{types:hn(r,n)}},INITIALIZE_TYPES:function(e,t){return{types:t}}},{types:[]})})(),gn(),o.a.render(Object(y.jsx)(V.a,{children:Object(y.jsx)(bn,{})}),document.getElementById("root")),yn()},33:function(e,t,n){e.exports={weatherTitle:"Weather_weatherTitle__y_mHC",weatherGridContainer:"Weather_weatherGridContainer__1W7H6",squareBox:"Weather_squareBox__20MjT",descriptionContent:"Weather_descriptionContent__ktd9E",tempBox:"Weather_tempBox__2UP0i"}},38:function(e,t,n){e.exports={search_subsystem_layout:"SearchSubSystem_search_subsystem_layout__3CD-9",search_style:"SearchSubSystem_search_style__1LkUp",search_input:"SearchSubSystem_search_input__1h6LU",rotate:"SearchSubSystem_rotate__SP_9_",animation:"SearchSubSystem_animation__iSVgQ",select_place:"SearchSubSystem_select_place__1roOz"}},43:function(e,t,n){e.exports={graph:"ChartLine_graph__27hZw",graph_title:"ChartLine_graph_title__UzKbm",graph_line:"ChartLine_graph_line__1u-nR",labels:"ChartLine_labels__pbYBR",space_bottom:"ChartLine_space_bottom__1-K6C",period:"ChartLine_period__4suMp"}},44:function(e,t,n){e.exports={info_container:"Vertical_info_container__3ed2M",sticky_title:"Vertical_sticky_title__1U06w",info_title:"Vertical_info_title__3P_Vv",gradient_border:"Vertical_gradient_border__CG0fK",gradient_line_style:"Vertical_gradient_line_style__jAvUa",height_unset:"Vertical_height_unset__19Mdg",more_photos_descr:"Vertical_more_photos_descr__22Fw5",slider_placeholder:"Vertical_slider_placeholder__1QBqf"}},48:function(e,t,n){e.exports={subsystem_layout:"SubSystemList_subsystem_layout__aI9ny",subsystem_title_style:"SubSystemList_subsystem_title_style__1HQuO",flexContainer:"SubSystemList_flexContainer__2DoQi",subsystem_title:"SubSystemList_subsystem_title__3jUW0",list_place:"SubSystemList_list_place__2t7_T",active:"SubSystemList_active__2I3tS",susystem_item:"SubSystemList_susystem_item__1Z4jQ"}},54:function(e,t,n){e.exports={flexContainer:"Title_flexContainer__i9PtX",title:"Title_title__M14vI",info_icon:"Title_info_icon__SFUoc",triggerTooltip:"Title_triggerTooltip__3xFsk",lastElementPlaceholder:"Title_lastElementPlaceholder__1i777",dragAndDropTooltip:"Title_dragAndDropTooltip__1tD4Z"}},65:function(e,t,n){e.exports={header:"Header_header__1cVab",flexContainer:"Header_flexContainer___c901",app_logo:"Header_app_logo__3oOF-",epsa_logo:"Header_epsa_logo__1KlNP",epsa_logo_normal:"Header_epsa_logo_normal__3jLZb",epsa_logo_absolute:"Header_epsa_logo_absolute__2yRGX"}},66:function(e,t,n){e.exports={entity:"Entity_entity__2-jFH",gridContainer:"Entity_gridContainer__3MLPu",icon:"Entity_icon__1NJxV",content:"Entity_content__b8jTc",value:"Entity_value__pOojd"}},67:function(e,t,n){e.exports={horizontal_side_panel:"HorizontalSidePanel_horizontal_side_panel__3TiFi",side_panel_width:"HorizontalSidePanel_side_panel_width__3jkiT",expand_button:"HorizontalSidePanel_expand_button__3ALpN",content_panel:"HorizontalSidePanel_content_panel__38yCM"}},68:function(e,t,n){e.exports={vertical_side_panel:"VerticalSidePanel_vertical_side_panel__yp1wT",side_panel_height:"VerticalSidePanel_side_panel_height__2gaLe",close_button_sticky:"VerticalSidePanel_close_button_sticky__1j4Y5",close_button:"VerticalSidePanel_close_button__IXvGW"}},74:function(e,t,n){e.exports={wrapper:"MapPOIS_wrapper__3NkuU",map_title_style:"MapPOIS_map_title_style__1tzHU"}},75:function(e,t,n){e.exports={entity_container:"Entity_entity_container__3diAW",title_container:"Entity_title_container__2yVhb",entity_title:"Entity_entity_title__2r0au",entity_addres:"Entity_entity_addres__9MwIB",information:"Entity_information__17dso"}}},[[329,1,2]]]);
//# sourceMappingURL=main.a4503511.chunk.js.map